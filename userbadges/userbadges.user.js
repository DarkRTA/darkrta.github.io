// ==UserScript==
// @name            FFZ UserBadges
// @description     FrankerFaceZ addon to allow badges to be assigned to users locally.
// @author          Dark
// @include		http://twitch.tv/*
// @include		https://twitch.tv/*
// @include		http://*.twitch.tv/*
// @include		https://*.twitch.tv/*
// @exclude		http://api.twitch.tv/*
// @exclude		https://api.twitch.tv/*
// @grant		none
// @run-at		document-end
// ==/UserScript==


function loadBadgeManager(attempts) {
    if (window.FrankerFaceZ !== undefined) {
        var script = document.createElement('script');
        script.src = 'data:text/javascript;base64,LyohIFVzZXJCYWRnZXMgLSBCdWlsdCBhdCAyNi8xMS8yMDE4IDE3OjM3OjU5ICovCiFmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG4pe2lmKHRbbl0pcmV0dXJuIHRbbl0uZXhwb3J0czt2YXIgcj10W25dPXtpOm4sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtuXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxyLmw9ITAsci5leHBvcnRzfV9fd2VicGFja19yZXF1aXJlX18ubT1lLF9fd2VicGFja19yZXF1aXJlX18uYz10LF9fd2VicGFja19yZXF1aXJlX18uZD1mdW5jdGlvbihlLHQsbil7X193ZWJwYWNrX3JlcXVpcmVfXy5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpufSl9LF9fd2VicGFja19yZXF1aXJlX18ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKXtyZXR1cm4gZX07cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZCh0LCJhIix0KSx0fSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LF9fd2VicGFja19yZXF1aXJlX18ucD0iIixfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucz05KX0oW2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uIG5vcm1hbGl6ZUNvbXBvbmVudChlLHQsbixyLGksYSxvLHMpe3ZhciBkPXR5cGVvZihlPWV8fHt9KS5kZWZhdWx0OyJvYmplY3QiIT09ZCYmImZ1bmN0aW9uIiE9PWR8fChlPWUuZGVmYXVsdCk7dmFyIGwsdT0iZnVuY3Rpb24iPT10eXBlb2YgZT9lLm9wdGlvbnM6ZTt0JiYodS5yZW5kZXI9dCx1LnN0YXRpY1JlbmRlckZucz1uLHUuX2NvbXBpbGVkPSEwKTtyJiYodS5mdW5jdGlvbmFsPSEwKTthJiYodS5fc2NvcGVJZD1hKTtvPyhsPWZ1bmN0aW9uKGUpeyhlPWV8fHRoaXMuJHZub2RlJiZ0aGlzLiR2bm9kZS5zc3JDb250ZXh0fHx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuJHZub2RlJiZ0aGlzLnBhcmVudC4kdm5vZGUuc3NyQ29udGV4dCl8fCJ1bmRlZmluZWQiPT10eXBlb2YgX19WVUVfU1NSX0NPTlRFWFRfX3x8KGU9X19WVUVfU1NSX0NPTlRFWFRfXyksaSYmaS5jYWxsKHRoaXMsZSksZSYmZS5fcmVnaXN0ZXJlZENvbXBvbmVudHMmJmUuX3JlZ2lzdGVyZWRDb21wb25lbnRzLmFkZChvKX0sdS5fc3NyUmVnaXN0ZXI9bCk6aSYmKGw9cz9mdW5jdGlvbigpe2kuY2FsbCh0aGlzLHRoaXMuJHJvb3QuJG9wdGlvbnMuc2hhZG93Um9vdCl9OmkpO2lmKGwpaWYodS5mdW5jdGlvbmFsKXt1Ll9pbmplY3RTdHlsZXM9bDt2YXIgYz11LnJlbmRlcjt1LnJlbmRlcj1mdW5jdGlvbiByZW5kZXJXaXRoU3R5bGVJbmplY3Rpb24oZSx0KXtyZXR1cm4gbC5jYWxsKHQpLGMoZSx0KX19ZWxzZXt2YXIgcD11LmJlZm9yZUNyZWF0ZTt1LmJlZm9yZUNyZWF0ZT1wP1tdLmNvbmNhdChwLGwpOltsXX1yZXR1cm57ZXhwb3J0czplLG9wdGlvbnM6dX19fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbiB0b1N0cmluZygpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbih0KXt2YXIgbj1mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGUsdCl7dmFyIG49ZVsxXXx8IiIscj1lWzNdO2lmKCFyKXJldHVybiBuO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBidG9hKXt2YXIgaT1mdW5jdGlvbiB0b0NvbW1lbnQoZSl7cmV0dXJuIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGUpKSkpKyIgKi8ifShyKSxhPXIuc291cmNlcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIi8qIyBzb3VyY2VVUkw9IityLnNvdXJjZVJvb3QrZSsiICovIn0pO3JldHVybltuXS5jb25jYXQoYSkuY29uY2F0KFtpXSkuam9pbigiXG4iKX1yZXR1cm5bbl0uam9pbigiXG4iKX0odCxlKTtyZXR1cm4gdFsyXT8iQG1lZGlhICIrdFsyXSsieyIrbisifSI6bn0pLmpvaW4oIiIpfSx0Lmk9ZnVuY3Rpb24oZSxuKXsic3RyaW5nIj09dHlwZW9mIGUmJihlPVtbbnVsbCxlLCIiXV0pO2Zvcih2YXIgcj17fSxpPTA7aTx0aGlzLmxlbmd0aDtpKyspe3ZhciBhPXRoaXNbaV1bMF07Im51bWJlciI9PXR5cGVvZiBhJiYoclthXT0hMCl9Zm9yKGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTsibnVtYmVyIj09dHlwZW9mIG9bMF0mJnJbb1swXV18fChuJiYhb1syXT9vWzJdPW46biYmKG9bMl09IigiK29bMl0rIikgYW5kICgiK24rIikiKSx0LnB1c2gobykpfX0sdH19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbiBhZGRTdHlsZXNDbGllbnQoZSx0LG4saSl7bD1uLGM9aXx8e307dmFyIG89T2JqZWN0KHIuYSkoZSx0KTtyZXR1cm4gYWRkU3R5bGVzVG9Eb20obyksZnVuY3Rpb24gdXBkYXRlKHQpe2Zvcih2YXIgbj1bXSxpPTA7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV07KGQ9YVtzLmlkXSkucmVmcy0tLG4ucHVzaChkKX1mb3IodD9hZGRTdHlsZXNUb0RvbShvPU9iamVjdChyLmEpKGUsdCkpOm89W10saT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgZDtpZigwPT09KGQ9bltpXSkucmVmcyl7Zm9yKHZhciBsPTA7bDxkLnBhcnRzLmxlbmd0aDtsKyspZC5wYXJ0c1tsXSgpO2RlbGV0ZSBhW2QuaWRdfX19fTt2YXIgcj1uKDE0KSxpPSJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQ7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBERUJVRyYmREVCVUcmJiFpKXRocm93IG5ldyBFcnJvcigidnVlLXN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50LiBVc2UgeyB0YXJnZXQ6ICdub2RlJyB9IGluIHlvdXIgV2VicGFjayBjb25maWcgdG8gaW5kaWNhdGUgYSBzZXJ2ZXItcmVuZGVyaW5nIGVudmlyb25tZW50LiIpO3ZhciBhPXt9LG89aSYmKGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0pLHM9bnVsbCxkPTAsbD0hMSx1PWZ1bmN0aW9uKCl7fSxjPW51bGwscD0iZGF0YS12dWUtc3NyLWlkIixoPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiYvbXNpZSBbNi05XVxiLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7ZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF0scj1hW24uaWRdO2lmKHIpe3IucmVmcysrO2Zvcih2YXIgaT0wO2k8ci5wYXJ0cy5sZW5ndGg7aSsrKXIucGFydHNbaV0obi5wYXJ0c1tpXSk7Zm9yKDtpPG4ucGFydHMubGVuZ3RoO2krKylyLnBhcnRzLnB1c2goYWRkU3R5bGUobi5wYXJ0c1tpXSkpO3IucGFydHMubGVuZ3RoPm4ucGFydHMubGVuZ3RoJiYoci5wYXJ0cy5sZW5ndGg9bi5wYXJ0cy5sZW5ndGgpfWVsc2V7dmFyIG89W107Zm9yKGk9MDtpPG4ucGFydHMubGVuZ3RoO2krKylvLnB1c2goYWRkU3R5bGUobi5wYXJ0c1tpXSkpO2Fbbi5pZF09e2lkOm4uaWQscmVmczoxLHBhcnRzOm99fX19ZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gZS50eXBlPSJ0ZXh0L2NzcyIsby5hcHBlbmRDaGlsZChlKSxlfWZ1bmN0aW9uIGFkZFN0eWxlKGUpe3ZhciB0LG4scj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzdHlsZVsiK3ArJ349IicrZS5pZCsnIl0nKTtpZihyKXtpZihsKXJldHVybiB1O3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKX1pZihoKXt2YXIgaT1kKys7cj1zfHwocz1jcmVhdGVTdHlsZUVsZW1lbnQoKSksdD1hcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCxyLGksITEpLG49YXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwscixpLCEwKX1lbHNlIHI9Y3JlYXRlU3R5bGVFbGVtZW50KCksdD1mdW5jdGlvbiBhcHBseVRvVGFnKGUsdCl7dmFyIG49dC5jc3Mscj10Lm1lZGlhLGk9dC5zb3VyY2VNYXA7ciYmZS5zZXRBdHRyaWJ1dGUoIm1lZGlhIixyKTtjLnNzcklkJiZlLnNldEF0dHJpYnV0ZShwLHQuaWQpO2kmJihuKz0iXG4vKiMgc291cmNlVVJMPSIraS5zb3VyY2VzWzBdKyIgKi8iLG4rPSJcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShpKSkpKSsiICovIik7aWYoZS5zdHlsZVNoZWV0KWUuc3R5bGVTaGVldC5jc3NUZXh0PW47ZWxzZXtmb3IoO2UuZmlyc3RDaGlsZDspZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobikpfX0uYmluZChudWxsLHIpLG49ZnVuY3Rpb24oKXtyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocil9O3JldHVybiB0KGUpLGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKHIpe2lmKHIpe2lmKHIuY3NzPT09ZS5jc3MmJnIubWVkaWE9PT1lLm1lZGlhJiZyLnNvdXJjZU1hcD09PWUuc291cmNlTWFwKXJldHVybjt0KGU9cil9ZWxzZSBuKCl9fXZhciBfLGY9KF89W10sZnVuY3Rpb24oZSx0KXtyZXR1cm4gX1tlXT10LF8uZmlsdGVyKEJvb2xlYW4pLmpvaW4oIlxuIil9KTtmdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKGUsdCxuLHIpe3ZhciBpPW4/IiI6ci5jc3M7aWYoZS5zdHlsZVNoZWV0KWUuc3R5bGVTaGVldC5jc3NUZXh0PWYodCxpKTtlbHNle3ZhciBhPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGkpLG89ZS5jaGlsZE5vZGVzO29bdF0mJmUucmVtb3ZlQ2hpbGQob1t0XSksby5sZW5ndGg/ZS5pbnNlcnRCZWZvcmUoYSxvW3RdKTplLmFwcGVuZENoaWxkKGEpfX19LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSk7dC5hPXtuYW1lOiJqc29uTWFwIixwcm9wczp7bGFiZWw6W1N0cmluZ10saW5zdHJ1Y3Q6e3R5cGU6U3RyaW5nLHJlcXVpcmVkOiExLGRlZmF1bHQ6IiJ9LGRhdGE6W0FycmF5LE9iamVjdF0sZWRpdF9tb2RlOnt0eXBlOkJvb2xlYW4scmVxdWlyZWQ6ITEsZGVmYXVsdDohMX0scXVlcnlfbW9kZV9mdW5jdGlvbjp7dHlwZTpGdW5jdGlvbixyZXF1aXJlZDohMSxkZWZhdWx0OmU9Pih7bW9kZToiZnJlZV9zdHlsZSIsa2V5czpudWxsLG9wdGlvbnM6bnVsbH0pfX0sZGF0YTooKT0+KHtjb2xvcl9vZl9vYmplY3RfZGF0YTpbMTAwLDY1LDE2NF0sY29sb3Jfb2ZfYXJyYXlfZGF0YTpbMTY0LDEwMCw2NV0scmVDb21wdXRlOiExLGRhdGFfaXNfYXJyYXk6ITEsb3BlcmF0aW9uX21vZGU6e21vZGU6ImZyZWVfc3R5bGUiLGtleXM6bnVsbCxvcHRpb25zOm51bGx9fSksY29tcHV0ZWQ6e2NvbnRhaW5lcl9zdHlsZSgpe3JldHVybntkaXNwbGF5OiJpbmxpbmUtZmxleCIsd2lkdGg6IjEwMCUiLCJib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1cyI6IjNweCIsImJvcmRlci10b3AtcmlnaHQtcmFkaXVzIjoiM3B4Iixib3JkZXI6YDFweCBzb2xpZCByZ2JhKCR7dGhpcy5zdHlsZV9jb2xvcl9yZ2J9LDEpYCwiYm9yZGVyLWxlZnQiOmA2cHggc29saWQgcmdiYSgke3RoaXMuc3R5bGVfY29sb3JfcmdifSwxKWB9fSxpbml0X2J0bl9zdHlsZSgpe3JldHVybnt2aXNpYmlsaXR5OnRoaXMuZWRpdF9tb2RlPyJ2aXNpYmxlIjoiaGlkZGVuIixkaXNwbGF5OiJmbGV4IiwibWFyZ2luLWxlZnQiOiI1cHgifX0sd2lkdGhfdHJhbnNpdGlvbl9zdHlsZSgpe3JldHVybnt3aWR0aDpgJHt0aGlzLnN1Yl9jb21wb25lbnRfd2lkdGhfbWF4fXB4YCx0cmFuc2l0aW9uOiJ3aWR0aCAwLjE1cyBsaW5lYXIifX0sc3R5bGVfY29sb3JfcmdiKCl7cmV0dXJuIHRoaXMuZGF0YV9pc19hcnJheT90aGlzLmNvbG9yX29mX2FycmF5X2RhdGE6dGhpcy5jb2xvcl9vZl9vYmplY3RfZGF0YX0sbGFiZWxfd2lkdGhfbWF4KCl7dGhpcy5yZUNvbXB1dGU7bGV0IGU9WzI0XTtyZXR1cm4gdGhpcy5vcGVyYXRpb25fbW9kZS5vcHRpb25zP09iamVjdC52YWx1ZXModGhpcy5vcGVyYXRpb25fbW9kZS5vcHRpb25zKS5mb3JFYWNoKHQ9PmUucHVzaChPYmplY3Qoci5iKSh0KSkpOk9iamVjdC5rZXlzKHRoaXMuZGF0YSkuZm9yRWFjaCh0PT5lLnB1c2goT2JqZWN0KHIuYikodCkpKSxNYXRoLm1heCguLi5lKX0sdmFsdWVfd2lkdGhfbWF4KCl7dGhpcy5yZUNvbXB1dGU7bGV0IGU9WzM2XTtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLmRhdGEpLmZpbHRlcihlPT4hKGUgaW5zdGFuY2VvZiBPYmplY3QpKS5mb3JFYWNoKHQ9PmUucHVzaChPYmplY3Qoci5iKSh0KSkpLE1hdGgubWF4KC4uLmUpfSxzdWJfY29tcG9uZW50X3dpZHRoX21heCgpe2lmKHRoaXMucmVDb21wdXRlLE9iamVjdC5rZXlzKHRoaXMuZGF0YSkubGVuZ3RoPjApe2xldCBlPXRoaXMubGFiZWxfd2lkdGhfbWF4LHQ9W3RoaXMubGFiZWxfd2lkdGhfbWF4K3RoaXMudmFsdWVfd2lkdGhfbWF4KzgwXTtyZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLiRjaGlsZHJlbikuZmlsdGVyKGU9PmUudmFsdWUgaW5zdGFuY2VvZiBPYmplY3QmJnRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShlLmxhYmVsKSkuZm9yRWFjaChuPT57bGV0IHI9bi4kY2hpbGRyZW5bbi4kY2hpbGRyZW4ubGVuZ3RoLTFdO3QucHVzaChlKyhyP3Iuc3ViX2NvbXBvbmVudF93aWR0aF9tYXg6MCkrODApfSksTWF0aC5tYXgoLi4udCl9cmV0dXJuIDgwfX0sbWV0aG9kczp7YWRkRmlyc3RLdigpe3RoaXMuZGF0YV9pc19hcnJheT90aGlzLm9uQ2hhbmdlKCJpbnNlcnQiLDAsIiIpOnRoaXMub25DaGFuZ2UoImluc2VydCIpfSxkZWxUaGlzKCl7dGhpcy4kZW1pdCgiY2hhbmdlIiwiZGVsZXRlIil9LG9uQ2hhbmdlKGUsdCxuKXtpZih0aGlzLmRhdGFfaXNfYXJyYXkpImRlbGV0ZSI9PT1lP3RoaXMuZGF0YS5zcGxpY2UodCwxKToiaW5zZXJ0Ij09PWU/dGhpcy5kYXRhLnNwbGljZSh0KzEsMCx0aGlzLm9wZXJhdGlvbl9tb2RlLmluc3RydWN0P3t9Om4pOiJ1cGRhdGVfdmFsdWUiPT09ZSYmKHRoaXMuZGF0YVt0XT0ie30iPT09bj97fToiW10iPT09bj9bXTpuKTtlbHNlIGlmKCJkZWxldGUiPT09ZSlkZWxldGUgdGhpcy5kYXRhW3RdO2Vsc2UgaWYoImluc2VydCI9PT1lKU9iamVjdChyLmEpKHRoaXMuZGF0YSx0KTtlbHNlIGlmKCJ1cGRhdGVfa2V5Ij09PWUmJnQhPT1uKWlmKHRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShuKSl0aGlzLiRjaGlsZHJlbi5maWx0ZXIoZT0+ZS5sYWJlbD09PXQpLmZvckVhY2goZT0+ZS4kZm9yY2VVcGRhdGUoKSk7ZWxzZXtsZXQgZT10aGlzLnF1ZXJ5X21vZGVfZnVuY3Rpb24odCksaT10aGlzLnF1ZXJ5X21vZGVfZnVuY3Rpb24obik7ImZyZWVfc3R5bGUiIT09ZS5tb2RlfHwodGhpcy5kYXRhW3RdLE9iamVjdCksT2JqZWN0KHIuYykodGhpcy5kYXRhLHQsbiksImZyZWVfc3R5bGUiIT09aS5tb2RlJiYodGhpcy5kYXRhW25dPSJhcnJheSI9PT1pLm1vZGU/W106e30pfWVsc2UidXBkYXRlX3ZhbHVlIj09PWUmJih0aGlzLmRhdGFbdF09Int9Ij09PW4/e306IltdIj09PW4/W106bik7dGhpcy4kZm9yY2VVcGRhdGUoKSx0aGlzLnJlQ29tcHV0ZT0hdGhpcy5yZUNvbXB1dGUsdGhpcy4kZW1pdCgiY2hhbmdlIil9LHZhbHVlX3dpZHRoOmU9Pk1hdGgubWF4KE9iamVjdChyLmIpKGUpLDM2KX0sY3JlYXRlZCgpe3RoaXMub3BlcmF0aW9uX21vZGU9dGhpcy5xdWVyeV9tb2RlX2Z1bmN0aW9uKHRoaXMuaW5zdHJ1Y3QpLHRoaXMuZGF0YSYmMD09PU9iamVjdC5rZXlzKHRoaXMuZGF0YSkubGVuZ3RoJiYiZml4ZWRfa2V5cyI9PT10aGlzLm9wZXJhdGlvbl9tb2RlLm1vZGUmJnRoaXMub3BlcmF0aW9uX21vZGUua2V5cy5mb3JFYWNoKGU9PnRoaXMuZGF0YVtlXT0iZnJlZV9zdHlsZSI9PT10aGlzLnF1ZXJ5X21vZGVfZnVuY3Rpb24oZSkubW9kZT8iIjp7fSksdGhpcy5kYXRhIGluc3RhbmNlb2YgQXJyYXk/KHRoaXMuZGF0YV9pc19hcnJheT0hMCx0aGlzLm9wZXJhdGlvbl9tb2RlLm1vZGU9ImFycmF5Iik6dGhpcy5kYXRhX2lzX2FycmF5PSExfSxtb3VudGVkKCl7dGhpcy4kZW1pdCgiY2hhbmdlIil9fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9e3Byb3BzOntsYWJlbDp7dHlwZTpbU3RyaW5nLE51bWJlcixCb29sZWFuXSxyZXF1aXJlZDohMSxkZWZhdWx0Om51bGx9LHZhbHVlOltTdHJpbmcsTnVtYmVyLEJvb2xlYW4sT2JqZWN0LEFycmF5XSxpbnN0cnVjdDp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ITEsZGVmYXVsdDoiIn0sbGFiZWxfd2lkdGg6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOiExLGRlZmF1bHQ6Nn0sdmFsdWVfd2lkdGg6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOiExLGRlZmF1bHQ6MzZ9LGVkaXRfbW9kZTp7dHlwZTpCb29sZWFuLHJlcXVpcmVkOiExLGRlZmF1bHQ6ITF9LG1vZGU6e3R5cGU6U3RyaW5nLHJlcXVpcmVkOiEwLGRlZmF1bHQ6MX0sb3B0aW9uczp7dHlwZTpBcnJheSxyZXF1aXJlZDohMSxkZWZhdWx0OigpPT5bXX0scXVlcnlfbW9kZV9mdW5jdGlvbjp7dHlwZTpGdW5jdGlvbixyZXF1aXJlZDohMSxkZWZhdWx0OmU9Pih7bW9kZToiZnJlZV9zdHlsZSIsa2V5czpudWxsLG9wdGlvbnM6bnVsbH0pfX0sZGF0YTooKT0+KHtlZGl0aW5nX2NvbG9yOlszMywxNTAsMjQzXSxhZGRpbmdfY29sb3I6Wzc2LDE3NSw4MF0sZGVsZXRpbmdfY29sb3I6WzI0NCw2Nyw1NF19KSxtZXRob2RzOntzaG93X2NvbnRhaW5lcl9ib3JkZXIoZSl7dGhpcy5lZGl0X21vZGUmJiJmaXhlZF9rZXlzIiE9PXRoaXMubW9kZSYmdGhpcy4kcmVmcy5jb250YWluZXImJih0aGlzLiRyZWZzLmNvbnRhaW5lci5zdHlsZS5ib3JkZXJDb2xvcj1gcmdiYSgke2V9LCAxKWAsdGhpcy4kcmVmcy5jb250YWluZXIuc3R5bGUuYm94U2hhZG93PWAwIDAgMTBweCAwIHJnYmEoJHtlfSwgMSlgKX0sdHJhbnNwYXJlbnRfY29udGFpbmVyX2JvcmRlcigpe3RoaXMuZWRpdF9tb2RlJiYiZml4ZWRfa2V5cyIhPT10aGlzLm1vZGUmJnRoaXMuJHJlZnMuY29udGFpbmVyJiYodGhpcy4kcmVmcy5jb250YWluZXIuc3R5bGUuYm9yZGVyQ29sb3I9InRyYW5zcGFyZW50Iix0aGlzLiRyZWZzLmNvbnRhaW5lci5zdHlsZS5ib3hTaGFkb3c9IjAgMCAwIDAgdHJhbnNwYXJlbnQiKX0sc2hvd19vcF9idXR0b24oKXt0aGlzLmVkaXRfbW9kZSYmImZpeGVkX2tleXMiIT09dGhpcy5tb2RlJiZ0aGlzLiRyZWZzLmFkZCYmdGhpcy4kcmVmcy5kZWwmJih0aGlzLiRyZWZzLmFkZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YHJnYmEoJHt0aGlzLmFkZGluZ19jb2xvcn0sIDAuOSlgLHRoaXMuJHJlZnMuYWRkLnN0eWxlLmJveFNoYWRvdz1gMCAwIDNweCAwIHJnYmEoJHt0aGlzLmFkZGluZ19jb2xvcn0sIDEpYCx0aGlzLiRyZWZzLmRlbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YHJnYmEoJHt0aGlzLmRlbGV0aW5nX2NvbG9yfSwgMC45KWAsdGhpcy4kcmVmcy5kZWwuc3R5bGUuYm94U2hhZG93PWAwIDAgM3B4IDAgcmdiYSgke3RoaXMuZGVsZXRpbmdfY29sb3J9LCAxKWApfSx0cmFuc3BhcmVudF9vcF9idXR0b24oKXt0aGlzLmVkaXRfbW9kZSYmImZpeGVkX2tleXMiIT09dGhpcy5tb2RlJiZ0aGlzLiRyZWZzLmFkZCYmdGhpcy4kcmVmcy5kZWwmJih0aGlzLiRyZWZzLmFkZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9InRyYW5zcGFyZW50Iix0aGlzLiRyZWZzLmFkZC5zdHlsZS5ib3hTaGFkb3c9IjAgMCAwIDAgdHJhbnNwYXJlbnQiLHRoaXMuJHJlZnMuZGVsLnN0eWxlLmJhY2tncm91bmRDb2xvcj0idHJhbnNwYXJlbnQiLHRoaXMuJHJlZnMuZGVsLnN0eWxlLmJveFNoYWRvdz0iMCAwIDAgMCB0cmFuc3BhcmVudCIpfSxhZGRpbmdfbmV3X2t2KCl7dGhpcy5lZGl0X21vZGUmJiJmaXhlZF9rZXlzIiE9PXRoaXMubW9kZSYmdGhpcy4kZW1pdCgiY2hhbmdlIiwiaW5zZXJ0Iix0aGlzLmxhYmVsKX0sZGVsZXRpbmdfa3YoKXt0aGlzLmVkaXRfbW9kZSYmImZpeGVkX2tleXMiIT09dGhpcy5tb2RlJiZ0aGlzLiRlbWl0KCJjaGFuZ2UiLCJkZWxldGUiLHRoaXMubGFiZWwpfSxrZXlDaGFuZ2VkKGUpe3RoaXMuJGVtaXQoImNoYW5nZSIsInVwZGF0ZV9rZXkiLHRoaXMubGFiZWwsZSl9LHZhbHVlQ2hhbmdlZChlKXt0aGlzLiRlbWl0KCJjaGFuZ2UiLCJ1cGRhdGVfdmFsdWUiLHRoaXMubGFiZWwsZS50YXJnZXQudmFsdWUpfSxvbkNoYW5nZShlKXsiZGVsZXRlIj09PWU/dGhpcy4kZW1pdCgiY2hhbmdlIiwidXBkYXRlX3ZhbHVlIix0aGlzLmxhYmVsLCIiKTp0aGlzLiRlbWl0KCJjaGFuZ2UiKX19LGNvbXB1dGVkOntzdHlsZV9sYWJlbF93aWR0aCgpe3JldHVybnt3aWR0aDpgJHt0aGlzLmxhYmVsX3dpZHRofXB4YH19LHN0eWxlX3ZhbHVlX3dpZHRoKCl7cmV0dXJue3dpZHRoOmAke3RoaXMudmFsdWVfd2lkdGh9cHhgfX19fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9e3Byb3BzOnt2YWx1ZTpbTnVtYmVyLFN0cmluZ10sd2lkdGg6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOiExLGRlZmF1bHQ6MjAwfSxtZW51X2hlaWdodDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ITEsZGVmYXVsdDoxMDB9LGRpc2FibGVkOnt0eXBlOkJvb2xlYW4scmVxdWlyZWQ6ITEsZGVmYXVsdDohMX0sb3B0aW9uczp7dHlwZTpBcnJheSxyZXF1aXJlOiExLGRlZmF1bHQ6KCk9PltdfX0sZGF0YTooKT0+KHtjdGxfZHJvcF9kb3duOiExfSksY29tcHV0ZWQ6e2Nzc19pbnB1dCgpe3JldHVybnt3aWR0aDpgJHt0aGlzLndpZHRofXB4YH19LGNzc19tZW51X2dyb3VwKCl7cmV0dXJueyJtYXgtaGVpZ2h0IjpgJHt0aGlzLm1lbnVfaGVpZ2h0fXB4YCwibWluLWhlaWdodCI6IjE1cHgifX19LG1ldGhvZHM6e210X2ZvY3VzKCl7dGhpcy5jdGxfZHJvcF9kb3duPSEwfSxzZWxlY3RpbmcoZSl7dGhpcy5jdGxfZHJvcF9kb3duPSExLHRoaXMuJGVtaXQoImlucHV0IixlKX19LG1vdW50ZWQoKXtsZXQgZT10aGlzO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsKCk9PntlLmN0bF9kcm9wX2Rvd249ITF9KX19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT17cHJvcHM6e2RhdGE6W09iamVjdCxBcnJheV0saW5zdHJ1Y3Q6W1N0cmluZ10sZWRpdGFibGU6W0Jvb2xlYW5dLHF1ZXJ5X21vZGVfZnVuY3Rpb246e3R5cGU6RnVuY3Rpb24scmVxdWlyZWQ6ITEsZGVmYXVsdDplPT4oe21vZGU6ImZyZWVfc3R5bGUiLGtleXM6bnVsbCxvcHRpb25zOm51bGwsaW5zdHJ1Y3Q6bnVsbH0pfX0sZGF0YTooKT0+KHtpbmlfZGF0YTp7fX0pLG1ldGhvZHM6e29uQ2hhbmdlKCl7dGhpcy4kZW1pdCgiY2hhbmdlIil9fSxtb3VudGVkKCl7dGhpcy5pbmlfZGF0YT10aGlzLmRhdGF9fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9e21peGluczpbZmZ6LnJlc29sdmUoIm1haW5fbWVudSIpLk1peGluXSxwcm9wczpbIml0ZW0iLCJjb250ZXh0IiwiIl0sbWV0aG9kczp7b25DaGFuZ2UoKXt0aGlzLnNldChKU09OLnN0cmluZ2lmeSh0aGlzLiRyZWZzLmVkaXRvci5pbmlfZGF0YSkpfX19fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT17fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9bigxMCk7RnJhbmtlckZhY2VaLmdldCgpLnJlZ2lzdGVyKCJhZGRvbi51c2VyYmFkZ2VzIixjbGFzcyBleHRlbmRzIEZyYW5rZXJGYWNlWi51dGlsaXRpZXMubW9kdWxlLk1vZHVsZXtjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSx0aGlzLmluamVjdCgic2V0dGluZ3MiKSx0aGlzLmluamVjdCgidnVlIiksdGhpcy5sb2FkX3JlcXVpcmVzPVsidnVlIl0sdGhpcy5pbmplY3QoImNoYXQiKSx0aGlzLmluamVjdCgiY2hhdC5iYWRnZXMiKSx0aGlzLnNldHRpbmdzLmFkZCgidXNlcmJhZGdlcy5iYWRnZXMiLHtkZWZhdWx0Oid7ImV4YW1wbGUxIjp7ImlkIjoiRXhhbXBsZSIsImNvbG9yIjoiIzdmNyIsImltYWdlIjoiaHR0cHM6Ly9zdGF0aWMtY2RuLmp0dm53Lm5ldC9iYWRnZXMvdjEvNWQ5ZjIyMDgtNWRkOC0xMWU3LTg1MTMtMmZmNGFkZmFlNjYxLzEiLCJzbG90IjoiMyIsInRpdGxlIjoiRXhhbXBsZSBCYWRnZSAxIiwidXNlcnMiOlsidXNlcjEiLCJ1c2VyMiIsInVzZXIiXX0sImV4YW1wbGUyIjp7ImlkIjoiRXhhbXBsZTIiLCJjb2xvciI6IiNmNzciLCJpbWFnZSI6Imh0dHBzOi8vc3RhdGljLWNkbi5qdHZudy5uZXQvYmFkZ2VzL3YxLzVkOWYyMjA4LTVkZDgtMTFlNy04NTEzLTJmZjRhZGZhZTY2MS8xIiwic2xvdCAiOiI0IiwidGl0bGUiOiJFeGFtcGxlIEJhZGdlIDIiLCJ1c2VycyI6WyJ1c2VyMSIsInVzZXIyIiwidXNlcjMiXX19Jyx1aTp7cGF0aDoiQWRkLU9ucyA+IFVzZXJCYWRnZXMgPiBDdXN0b20gQmFkZ2VzIix0aXRsZToiQ3VzdG9tIEJhZGdlcyIsZGVzY3JpcHRpb246IkRlZmluZSB5b3VyIGN1c3RvbSBiYWRnZXMgaGVyZSIsY29tcG9uZW50OiJ1c2VyYmFkZ2VzLXVpIn19KSx0aGlzLnNldHRpbmdzLmFkZCgidXNlcmJhZGdlcy51c2VycyIse2RlZmF1bHQ6J3sidGhlZXNzZW5jZW9mZGFya25lc3MiOlt7ImlkIjoidXNlcmJhZGdlcy1kZXYiLCJkYXRhIjp7ImlkIjoidXNlcmJhZGdlcy1kZXYiLCJjb2xvciI6IiM1NTlCRkUiLCJ0aXRsZSI6IlVzZXJCYWRnZXMgRGV2ZWxvcGVyIiwic2xvdCI6IjI2IiwiaW1hZ2UiOiJodHRwczovL3RoZWVzc2VuY2VvZmRhcmtuZXNzLmdpdGh1Yi5pby91c2VyYmFkZ2VzL2RldmJhZGdlLnBuZyJ9fV19Jyx1aTp7cGF0aDoiQWRkLU9ucyA+IFVzZXJCYWRnZXMgPiBVc2VyIFNwZWNpZmljIEJhZGdlcyIsdGl0bGU6IlVzZXIgU3BlY2lmaWMgQmFkZ2VzIixkZXNjcmlwdGlvbjoiRGVmaW5lIGJhZGdlcyB0aGF0IGFyZSBzcGVjaWZpYyB0byB1c2VycyBoZXJlIixjb21wb25lbnQ6InVzZXJiYWRnZXMtdWkifX0pLHRoaXMuc2V0dGluZ3MuYWRkVUkoInVzZXJiYWRnZXMuZG9jIix7cGF0aDoiQWRkLU9ucyA+IFVzZXJCYWRnZXMgPiBIZWxwIixjb21wb25lbnQ6InVzZXJiYWRnZXMtZG9jIn0pfW9uRW5hYmxlKCl7dGhpcy5sb2cuZGVidWcoIlVzZXJCYWRnZXMgTG9hZGVkIFN1Y2Vzc2Z1bGx5Iik7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtlLnR5cGU9InRleHQvY3NzIixlLmlubmVySFRNTD0iLmZmei1iYWRnZSB7IGJhY2tncm91bmQtc2l6ZTogY29udGFpbiB9Iixkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGUpLHRoaXMubG9hZEJhZGdlcygpLHRoaXMubG9hZFVzZXJzKCl9YXN5bmMgb25Mb2FkKCl7Y29uc3QgZT10aGlzLnZ1ZS5WdWUsdD1hd2FpdCBuZXcgUHJvbWlzZShmdW5jdGlvbihlKXtlKG4oMzMpKX0pO3RoaXMudnVlLmNvbXBvbmVudCgidXNlcmJhZGdlcy11aSIsdC5kZWZhdWx0KTtjb25zdCBpPWF3YWl0IG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUpe2UobigzNSkpfSk7dGhpcy52dWUuY29tcG9uZW50KCJ1c2VyYmFkZ2VzLWRvYyIsaS5kZWZhdWx0KSxlLnVzZShyLmEpfWxvYWRCYWRnZXMoKXt0cnl7bGV0IG49SlNPTi5wYXJzZSh0aGlzLmNoYXQuY29udGV4dC5nZXQoInVzZXJiYWRnZXMuYmFkZ2VzIikpO2Zvcih2YXIgZSBpbiBuKXtpZih2b2lkIDAhPW5bZV0udXNlcnMpe2Zvcih2YXIgdCBpbiBuW2VdLnVzZXJzKXRoaXMuY2hhdC5nZXRVc2VyKHZvaWQgMCxuW2VdLnVzZXJzW3RdKS5hZGRCYWRnZSgiYWRkb24tdXNlcmJhZGdlcyIsImFkZG9uLXVzZXJiYWRnZXMucmV1c2VkLSIrbltlXS5pZCk7ZGVsZXRlIG5bZV0udXNlcnN9bltlXT10aGlzLmZpeEJhZGdlRGF0YShuW2VdKSx0aGlzLmJhZGdlcy5sb2FkQmFkZ2VEYXRhKCJhZGRvbi11c2VyYmFkZ2VzLnJldXNlZC0iK25bZV0uaWQsbltlXSl9fWNhdGNoKGUpe2FsZXJ0KCJFcnJvciBMb2FkaW5nIEN1c3RvbSBCYWRnZXM6IitlKX19Zml4QmFkZ2VEYXRhKGUpe3JldHVybiB2b2lkIDA9PT1lLnVybHMmJihlLnVybHM9e30sZS51cmxzWzFdPWUuaW1hZ2UpLGUubm9faW52ZXJ0PSJ0cnVlIj09ZS5ub19pbnZlcnQsZS5yZXBsYWNlcz0idHJ1ZSI9PWUucmVwbGFjZXMsZX1sb2FkVXNlcnMoKXt0cnl7bGV0IG49SlNPTi5wYXJzZSh0aGlzLmNoYXQuY29udGV4dC5nZXQoInVzZXJiYWRnZXMudXNlcnMiKSk7Zm9yKHZhciBlIGluIG4pZm9yKHZhciB0IGluIG5bZV0pbltlXVt0XS5kYXRhPyhuW2VdW3RdLmRhdGE9dGhpcy5maXhCYWRnZURhdGEobltlXVt0XS5kYXRhKSx0aGlzLmNoYXQuZ2V0VXNlcih2b2lkIDAsZSkuYWRkQmFkZ2UoImFkZG9uLXVzZXJiYWRnZXMiLCJhZGRvbi11c2VyYmFkZ2VzLnVzZXJzLXNwZWNpZmljLSIrbltlXVt0XS5pZCxuW2VdW3RdLmRhdGEpKTp0aGlzLmNoYXQuZ2V0VXNlcih2b2lkIDAsZSkuYWRkQmFkZ2UoImFkZG9uLXVzZXJiYWRnZXMiLCJhZGRvbi11c2VyYmFkZ2VzLnJldXNlZC0iK25bZV1bdF0uaWQpfWNhdGNoKGUpe2NvbnNvbGUubG9nKCJFcnJvciBMb2FkaW5nIFVzZXIgU3BlY2lmaWMgQmFkZ2VzOiIrZSl9fX0pLmVuYWJsZSgpfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTEpLGk9bigxNyksYT1uKDIxKSxvPW4oMjMpLHM9bigyNSksZD1uKDI5KTt0LmE9e2luc3RhbGw6ZnVuY3Rpb24oZSl7ZS5jb21wb25lbnQoInQtbWFwIixyLmEpLGUuY29tcG9uZW50KCJ0LWt2IixpLmEpLGUuY29tcG9uZW50KCJ0LXBsdXMtYnRuIixhLmEpLGUuY29tcG9uZW50KCJ0LW1pbnVzLWJ0biIsby5hKSxlLmNvbXBvbmVudCgidC1zZWxlY3QiLHMuYSksZS5jb21wb25lbnQoInYtanNvbi1lZGl0b3IiLGQuYSl9fX0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDMpLGk9bigxNiksYT1uKDApLG89ITE7dmFyIHM9ZnVuY3Rpb24gaW5qZWN0U3R5bGUoZSl7b3x8bigxMil9LGQ9T2JqZWN0KGEuYSkoci5hLGkuYSxpLmIsITEscywiZGF0YS12LTM4YTVmMzI2IixudWxsKTtkLm9wdGlvbnMuX19maWxlPSJzcmMvanNvbmVkaXRvci9qc29uLW1hcC9qc29uTWFwLnZ1ZSIsdC5hPWQuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTMpOyJzdHJpbmciPT10eXBlb2YgciYmKHI9W1tlLmksciwiIl1dKSxyLmxvY2FscyYmKGUuZXhwb3J0cz1yLmxvY2Fscyk7KDAsbigyKS5kZWZhdWx0KSgiMTY0NzNlMmUiLHIsITEse30pfSxmdW5jdGlvbihlLHQsbil7KGUuZXhwb3J0cz1uKDEpKCEwKSkucHVzaChbZS5pLCJcbmRpdi5jb250ZW50X3N0eWxlW2RhdGEtdi0zOGE1ZjMyNl0ge1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIHBhZGRpbmc6IDVweCAxcHg7XG4gICAgZGlzcGxheTogYmxvY2s7XG59XG4iLCIiLHt2ZXJzaW9uOjMsc291cmNlczpbIi9ob21lL2RhcmsvRG9jdW1lbnRzL2dpdC9GRlotVXNlckJhZGdlcy9zcmMvanNvbmVkaXRvci9qc29uLW1hcC9zcmMvanNvbmVkaXRvci9qc29uLW1hcC9qc29uTWFwLnZ1ZSJdLG5hbWVzOltdLG1hcHBpbmdzOiI7QUE4TEE7SUFDQSxZQUFBO0lBQ0EsaUJBQUE7SUFDQSxlQUFBO0NBQ0EiLGZpbGU6Impzb25NYXAudnVlIixzb3VyY2VzQ29udGVudDpbIjx0ZW1wbGF0ZT5cclxuICAgIDxkaXYgOnN0eWxlPVwiY29udGFpbmVyX3N0eWxlXCIgQG1vdXNlb3Zlci5zdG9wPVwiXCIgQG1vdXNlb3V0LnN0b3A9XCJcIiBAY2xpY2suc3RvcD1cIlwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50X3N0eWxlXCI+XHJcbiAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwiZGF0YSAmJiBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGg+MFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiB2LWZvcj1cIih2YWx1ZV9vZl9kYXRhLGtleV9vZl9kYXRhKSBpbiBkYXRhXCIgOmtleT1cImtleV9vZl9kYXRhXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHQta3YgOmxhYmVsPVwia2V5X29mX2RhdGEudG9TdHJpbmcoKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOmluc3RydWN0PVwiZGF0YV9pc19hcnJheSA/IG9wZXJhdGlvbl9tb2RlLmluc3RydWN0IDoga2V5X29mX2RhdGFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDp2YWx1ZT1cInZhbHVlX29mX2RhdGFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDpsYWJlbF93aWR0aD1cImxhYmVsX3dpZHRoX21heFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOnZhbHVlX3dpZHRoPVwidmFsdWVfd2lkdGgodmFsdWVfb2ZfZGF0YSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDplZGl0X21vZGU9XCJlZGl0X21vZGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDptb2RlPVwib3BlcmF0aW9uX21vZGUubW9kZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOm9wdGlvbnM9XCJvcGVyYXRpb25fbW9kZS5vcHRpb25zXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA6cXVlcnlfbW9kZV9mdW5jdGlvbj1cInF1ZXJ5X21vZGVfZnVuY3Rpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIEBjaGFuZ2U9XCJvbkNoYW5nZVwiPjwvdC1rdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L3RlbXBsYXRlPlxyXG4gICAgICAgICAgICA8dGVtcGxhdGUgdi1lbHNlPlxyXG4gICAgICAgICAgICAgICAgPGRpdiA6c3R5bGU9XCJpbml0X2J0bl9zdHlsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW46IDAgMnB4XCIgQGNsaWNrPVwiYWRkRmlyc3RLdlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dC1wbHVzLWJ0bj48L3QtcGx1cy1idG4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbjogMCAycHhcIiBAY2xpY2s9XCJkZWxUaGlzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0LW1pbnVzLWJ0bj48L3QtbWludXMtYnRuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvdGVtcGxhdGU+XHJcbiAgICAgICAgICAgIDxkaXYgOnN0eWxlPVwid2lkdGhfdHJhbnNpdGlvbl9zdHlsZVwiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvdGVtcGxhdGU+XHJcbjxzY3JpcHQ+XHJcbiAgICBpbXBvcnQge21lYXN1cmVfd2lkdGgsIHVwZGF0ZVByb3BlcnR5LCBpbnNlcnRQcm9wZXJ0eX0gZnJvbSAnLi9oZWxwZXInXHJcbiAgICBleHBvcnQgZGVmYXVsdHtcclxuICAgICAgICBuYW1lOiAnanNvbk1hcCcsXHJcbiAgICAgICAgcHJvcHM6IHtcclxuICAgICAgICAgICAgbGFiZWw6IFtTdHJpbmddLFxyXG4gICAgICAgICAgICBpbnN0cnVjdDoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlLCBkZWZhdWx0OiAnJ30sXHJcbiAgICAgICAgICAgIGRhdGE6IFtBcnJheSwgT2JqZWN0XSxcclxuICAgICAgICAgICAgZWRpdF9tb2RlOiB7dHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IGZhbHNlLCBkZWZhdWx0OiBmYWxzZX0sXHJcbiAgICAgICAgICAgIHF1ZXJ5X21vZGVfZnVuY3Rpb246IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IEZ1bmN0aW9uLCByZXF1aXJlZDogZmFsc2UsIGRlZmF1bHQ6IChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge21vZGU6ICdmcmVlX3N0eWxlJywga2V5czogbnVsbCwgb3B0aW9uczogbnVsbH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGEoKXtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yX29mX29iamVjdF9kYXRhOiBbMTAwLCA2NSwgMTY0XSxcclxuICAgICAgICAgICAgICAgIGNvbG9yX29mX2FycmF5X2RhdGE6IFsxNjQsIDEwMCwgNjVdLFxyXG4gICAgICAgICAgICAgICAgcmVDb21wdXRlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRhdGFfaXNfYXJyYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uX21vZGU6IHttb2RlOiAnZnJlZV9zdHlsZScsIGtleXM6IG51bGwsIG9wdGlvbnM6IG51bGx9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXB1dGVkOiB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lcl9zdHlsZSgpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzJzogJzNweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci10b3AtcmlnaHQtcmFkaXVzJzogJzNweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlcic6IGAxcHggc29saWQgcmdiYSgke3RoaXMuc3R5bGVfY29sb3JfcmdifSwxKWAsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci1sZWZ0JzogYDZweCBzb2xpZCByZ2JhKCR7dGhpcy5zdHlsZV9jb2xvcl9yZ2J9LDEpYCxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5pdF9idG5fc3R5bGUoKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogdGhpcy5lZGl0X21vZGUgPyAndmlzaWJsZScgOiAnaGlkZGVuJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ21hcmdpbi1sZWZ0JzogJzVweCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgd2lkdGhfdHJhbnNpdGlvbl9zdHlsZSgpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogYCR7dGhpcy5zdWJfY29tcG9uZW50X3dpZHRoX21heH1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3dpZHRoIDAuMTVzIGxpbmVhcicsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0eWxlX2NvbG9yX3JnYigpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YV9pc19hcnJheSA/IHRoaXMuY29sb3Jfb2ZfYXJyYXlfZGF0YSA6IHRoaXMuY29sb3Jfb2Zfb2JqZWN0X2RhdGE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxhYmVsX3dpZHRoX21heCgpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZUNvbXB1dGU7XHJcbiAgICAgICAgICAgICAgICBsZXQgd2lkcyA9IFsyNF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZXJhdGlvbl9tb2RlLm9wdGlvbnMgP1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5vcGVyYXRpb25fbW9kZS5vcHRpb25zKS5mb3JFYWNoKGQgPT4gd2lkcy5wdXNoKG1lYXN1cmVfd2lkdGgoZCkpKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5kYXRhKS5mb3JFYWNoKGQgPT4gd2lkcy5wdXNoKG1lYXN1cmVfd2lkdGgoZCkpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCguLi53aWRzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdmFsdWVfd2lkdGhfbWF4KCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlQ29tcHV0ZTtcclxuICAgICAgICAgICAgICAgIGxldCB3aWRzID0gWzM2XTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5kYXRhKS5maWx0ZXIoZCA9PiAhKGQgaW5zdGFuY2VvZiBPYmplY3QpKS5mb3JFYWNoKGQgPT4gd2lkcy5wdXNoKG1lYXN1cmVfd2lkdGgoZCkpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCguLi53aWRzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3ViX2NvbXBvbmVudF93aWR0aF9tYXgoKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVDb21wdXRlXHJcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5kYXRhKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhYmVsX21heCA9IHRoaXMubGFiZWxfd2lkdGhfbWF4O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB3aWRzID0gW3RoaXMubGFiZWxfd2lkdGhfbWF4ICsgdGhpcy52YWx1ZV93aWR0aF9tYXggKyA4MF07XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLiRjaGlsZHJlbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihjID0+IGMudmFsdWUgaW5zdGFuY2VvZiBPYmplY3QgJiYgdGhpcy5kYXRhLmhhc093blByb3BlcnR5KGMubGFiZWwpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChjb21fa3YgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gY29tX2t2LiRjaGlsZHJlbltjb21fa3YuJGNoaWxkcmVuLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkcy5wdXNoKGxhYmVsX21heCArIChjaGlsZCA/IGNoaWxkLnN1Yl9jb21wb25lbnRfd2lkdGhfbWF4IDogMCkgKyA4MClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KC4uLndpZHMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gODBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1ldGhvZHM6IHtcclxuICAgICAgICAgICAgYWRkRmlyc3RLdigpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhX2lzX2FycmF5ID8gdGhpcy5vbkNoYW5nZSgnaW5zZXJ0JywgMCwgJycpIDogdGhpcy5vbkNoYW5nZSgnaW5zZXJ0Jyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlbFRoaXMoKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsICdkZWxldGUnKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkNoYW5nZSh0eXBlLCBrZXksIG5ld1ZhbCl7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhX2lzX2FycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdkZWxldGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcGxpY2Uoa2V5LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbnNlcnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcGxpY2Uoa2V5ICsgMSwgMCwgdGhpcy5vcGVyYXRpb25fbW9kZS5pbnN0cnVjdCA/IHt9IDogbmV3VmFsKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd1cGRhdGVfdmFsdWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtrZXldID0gbmV3VmFsID09PSAne30nID8ge30gOiBuZXdWYWwgPT09ICdbXScgPyBbXSA6IG5ld1ZhbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZGVsZXRlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5kYXRhW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnaW5zZXJ0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRQcm9wZXJ0eSh0aGlzLmRhdGEsIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAndXBkYXRlX2tleScgJiYga2V5ICE9PSBuZXdWYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShuZXdWYWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjaGlsZHJlbi5maWx0ZXIoYyA9PiBjLmxhYmVsID09PSBrZXkpLmZvckVhY2goYyA9PiBjLiRmb3JjZVVwZGF0ZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGVfb2xkID0gdGhpcy5xdWVyeV9tb2RlX2Z1bmN0aW9uKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9kZV9uZXcgPSB0aGlzLnF1ZXJ5X21vZGVfZnVuY3Rpb24obmV3VmFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlX29sZC5tb2RlICE9PSAnZnJlZV9zdHlsZScgfHwgdGhpcy5kYXRhW2tleV0gaW5zdGFuY2VvZiBPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQcm9wZXJ0eSh0aGlzLmRhdGEsIGtleSwgbmV3VmFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVfbmV3Lm1vZGUgIT09ICdmcmVlX3N0eWxlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtuZXdWYWxdID0gbW9kZV9uZXcubW9kZSA9PT0gJ2FycmF5JyA/IFtdIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kY2hpbGRyZW4uZmlsdGVyKGMgPT4gYy5sYWJlbCA9PT0ga2V5KS5mb3JFYWNoKGMgPT4gYy4kZm9yY2VVcGRhdGUoKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb3BlcnR5KHRoaXMuZGF0YSwga2V5LCBuZXdWYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlX25ldy5tb2RlICE9PSAnZnJlZV9zdHlsZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtuZXdWYWxdID0gbW9kZV9uZXcubW9kZSA9PT0gJ2FycmF5JyA/IFtdIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd1cGRhdGVfdmFsdWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtrZXldID0gbmV3VmFsID09PSAne30nID8ge30gOiBuZXdWYWwgPT09ICdbXScgPyBbXSA6IG5ld1ZhbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZUNvbXB1dGUgPSAhdGhpcy5yZUNvbXB1dGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB2YWx1ZV93aWR0aCh2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgobWVhc3VyZV93aWR0aCh2YWx1ZSksIDM2KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JlYXRlZCgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm9wZXJhdGlvbl9tb2RlID0gdGhpcy5xdWVyeV9tb2RlX2Z1bmN0aW9uKHRoaXMuaW5zdHJ1Y3QpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhICYmIE9iamVjdC5rZXlzKHRoaXMuZGF0YSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcGVyYXRpb25fbW9kZS5tb2RlID09PSAnZml4ZWRfa2V5cycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZXJhdGlvbl9tb2RlLmtleXMuZm9yRWFjaChrZXkgPT4gdGhpcy5kYXRhW2tleV0gPSB0aGlzLnF1ZXJ5X21vZGVfZnVuY3Rpb24oa2V5KS5tb2RlID09PSAnZnJlZV9zdHlsZScgPyAnJyA6IHt9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YV9pc19hcnJheSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZXJhdGlvbl9tb2RlLm1vZGUgPSAnYXJyYXknXHJcbiAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhX2lzX2FycmF5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICAsXHJcbiAgICAgICAgbW91bnRlZCgpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnKVxyXG4gICAgICAgIH1cclxuICAgICAgICAsXHJcbiAgICB9XHJcbjxcL3NjcmlwdD5cclxuPHN0eWxlIHNjb3BlZD5cclxuICAgIGRpdi5jb250ZW50X3N0eWxlIHtcclxuICAgICAgICB3aWR0aDogYXV0bztcclxuICAgICAgICBwYWRkaW5nOiA1cHggMXB4O1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgfVxyXG48L3N0eWxlPlxyXG4iXSxzb3VyY2VSb290OiIifV0pfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbiBsaXN0VG9TdHlsZXMoZSx0KXtmb3IodmFyIG49W10scj17fSxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBhPXRbaV0sbz1hWzBdLHM9YVsxXSxkPWFbMl0sbD1hWzNdLHU9e2lkOmUrIjoiK2ksY3NzOnMsbWVkaWE6ZCxzb3VyY2VNYXA6bH07cltvXT9yW29dLnBhcnRzLnB1c2godSk6bi5wdXNoKHJbb109e2lkOm8scGFydHM6W3VdfSl9cmV0dXJuIG59fSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj0oZT0+e2xldCB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcCIpO3JldHVybiB0LmlubmVySFRNTD1lLE1hdGgubWluKHQuY2xpZW50V2lkdGgrNCwxMjUpfSk7dC5jPSgoZSx0LG4pPT57aWYoZSYmKHR8fCIiPT09dCkmJihufHwiIj09PW4pKXtpZih0PT09bnx8ZS5oYXNPd25Qcm9wZXJ0eShuKSlyZXR1cm47bGV0IHI9e307T2JqZWN0LmtleXMoZSkuZm9yRWFjaChpPT57aT09PXQ/cltuXT1lW2ldOnJbaV09ZVtpXSxkZWxldGUgZVtpXX0pLE9iamVjdC5rZXlzKHIpLmZvckVhY2godD0+ZVt0XT1yW3RdKX19KTt0LmE9KChlLHQpPT57aWYoZSlpZih0KXtsZXQgbj17fTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKHI9PntyPT09dD8obltyXT1lW3JdLG5bIiJdPSIiKTpuW3JdPWVbcl0sZGVsZXRlIGVbcl19KSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKHQ9PmVbdF09blt0XSl9ZWxzZSB2b2lkIDAhPT10JiZudWxsIT09dHx8KGVbIiJdPSIiKX0pfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiByfSksbi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLiRjcmVhdGVFbGVtZW50LG49ZS5fc2VsZi5fY3x8dDtyZXR1cm4gbigiZGl2Iix7c3R5bGU6ZS5jb250YWluZXJfc3R5bGUsb246e21vdXNlb3ZlcjpmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfSxtb3VzZW91dDpmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfSxjbGljazpmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfX19LFtuKCJkaXYiLHtzdGF0aWNDbGFzczoiY29udGVudF9zdHlsZSJ9LFtlLmRhdGEmJk9iamVjdC5rZXlzKGUuZGF0YSkubGVuZ3RoPjA/ZS5fbChlLmRhdGEsZnVuY3Rpb24odCxyKXtyZXR1cm4gbigiZGl2Iix7a2V5OnJ9LFtuKCJ0LWt2Iix7YXR0cnM6e2xhYmVsOnIudG9TdHJpbmcoKSxpbnN0cnVjdDplLmRhdGFfaXNfYXJyYXk/ZS5vcGVyYXRpb25fbW9kZS5pbnN0cnVjdDpyLHZhbHVlOnQsbGFiZWxfd2lkdGg6ZS5sYWJlbF93aWR0aF9tYXgsdmFsdWVfd2lkdGg6ZS52YWx1ZV93aWR0aCh0KSxlZGl0X21vZGU6ZS5lZGl0X21vZGUsbW9kZTplLm9wZXJhdGlvbl9tb2RlLm1vZGUsb3B0aW9uczplLm9wZXJhdGlvbl9tb2RlLm9wdGlvbnMscXVlcnlfbW9kZV9mdW5jdGlvbjplLnF1ZXJ5X21vZGVfZnVuY3Rpb259LG9uOntjaGFuZ2U6ZS5vbkNoYW5nZX19KV0sMSl9KTpbbigiZGl2Iix7c3R5bGU6ZS5pbml0X2J0bl9zdHlsZX0sW24oImRpdiIse3N0YXRpY1N0eWxlOnttYXJnaW46IjAgMnB4In0sb246e2NsaWNrOmUuYWRkRmlyc3RLdn19LFtuKCJ0LXBsdXMtYnRuIildLDEpLGUuX3YoIiAiKSxuKCJkaXYiLHtzdGF0aWNTdHlsZTp7bWFyZ2luOiIwIDJweCJ9LG9uOntjbGljazplLmRlbFRoaXN9fSxbbigidC1taW51cy1idG4iKV0sMSldKV0sZS5fdigiICIpLG4oImRpdiIse3N0eWxlOmUud2lkdGhfdHJhbnNpdGlvbl9zdHlsZX0pXSwyKV0pfSxpPVtdO3IuX3dpdGhTdHJpcHBlZD0hMH0sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDQpLGk9bigyMCksYT1uKDApLG89ITE7dmFyIHM9ZnVuY3Rpb24gaW5qZWN0U3R5bGUoZSl7b3x8bigxOCl9LGQ9T2JqZWN0KGEuYSkoci5hLGkuYSxpLmIsITEscywiZGF0YS12LTM1Y2Q5OWZhIixudWxsKTtkLm9wdGlvbnMuX19maWxlPSJzcmMvanNvbmVkaXRvci9qc29uLW1hcC9rZXlWYWx1ZVBhaXIudnVlIix0LmE9ZC5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxOSk7InN0cmluZyI9PXR5cGVvZiByJiYocj1bW2UuaSxyLCIiXV0pLHIubG9jYWxzJiYoZS5leHBvcnRzPXIubG9jYWxzKTsoMCxuKDIpLmRlZmF1bHQpKCIwNDcwNjM1OCIsciwhMSx7fSl9LGZ1bmN0aW9uKGUsdCxuKXsoZS5leHBvcnRzPW4oMSkoITApKS5wdXNoKFtlLmksIlxuZGl2Lmt2Q29udGFpbmVyX3N0eWxlW2RhdGEtdi0zNWNkOTlmYV0ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBtYXJnaW46IDJweCAwO1xuICAgICAgICBwYWRkaW5nOiAxcHggMXB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOXB4O1xuICAgICAgICBib3gtc2hhZG93OiAwO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogYm9yZGVyLCBiYWNrZ3JvdW5kLWNvbG9yO1xuICAgICAgICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAxNTBtcztcbiAgICAgICAgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGxpbmVhcjtcbn1cbmRpdi5pbnB1dFtkYXRhLXYtMzVjZDk5ZmFdIHtcbiAgICAgICAgbWFyZ2luOiAwIDNweDtcbiAgICAgICAgYm9yZGVyOiAwcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDlweDtcbn1cbmlucHV0W2RhdGEtdi0zNWNkOTlmYV0ge1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgIGJvcmRlcjogMHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcblx0XHRjb2xvcjogaW5oZXJpdDtcbn1cbmRpdi5maXhlZF9sYWJlbFtkYXRhLXYtMzVjZDk5ZmFdIHtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgICAgIHBhZGRpbmc6IDAgMTBweDtcbiAgICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xufVxuaW5wdXRbZGF0YS12LTM1Y2Q5OWZhXTpmb2N1cyB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMzMsIDE1MCwgMjQzLCAwLjUpO1xuICAgICAgICBib3JkZXItYm90dG9tOjtcbn1cbmRpdi5wdWxsX3JpZ2h0W2RhdGEtdi0zNWNkOTlmYV0ge1xuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcbn1cbmRpdi5vcF9vdXRlcltkYXRhLXYtMzVjZDk5ZmFdIHtcbiAgICAgICAgcGFkZGluZzogMnB4IDA7XG59XG5kaXYub3BbZGF0YS12LTM1Y2Q5OWZhXSB7XG4gICAgICAgIHdpZHRoOiAxMHB4O1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDAgdHJhbnNwYXJlbnQ7XG59XG4iLCIiLHt2ZXJzaW9uOjMsc291cmNlczpbIi9ob21lL2RhcmsvRG9jdW1lbnRzL2dpdC9GRlotVXNlckJhZGdlcy9zcmMvanNvbmVkaXRvci9qc29uLW1hcC9zcmMvanNvbmVkaXRvci9qc29uLW1hcC9rZXlWYWx1ZVBhaXIudnVlIl0sbmFtZXM6W10sbWFwcGluZ3M6IjtBQStJQTtRQUNBLGNBQUE7UUFDQSxjQUFBO1FBQ0EsaUJBQUE7UUFDQSw4QkFBQTtRQUNBLG1CQUFBO1FBQ0EsY0FBQTtRQUNBLDhCQUFBO1FBQ0EsOENBQUE7UUFDQSwyQkFBQTtRQUNBLG1DQUFBO0NBQ0E7QUFFQTtRQUNBLGNBQUE7UUFDQSw4QkFBQTtRQUNBLG1CQUFBO0NBQ0E7QUFFQTtRQUNBLGdCQUFBO1FBQ0EsY0FBQTtRQUNBLDhCQUFBO1FBQ0EsOEJBQUE7RUFDQSxlQUFBO0NBQ0E7QUFFQTtRQUNBLG9CQUFBO1FBQ0EsZUFBQTtRQUNBLGdCQUFBO1FBQ0EsbUJBQUE7Q0FDQTtBQUVBO1FBQ0EsMENBQUE7UUFDQSxlQUFBO0NBQ0E7QUFFQTtRQUNBLGtCQUFBO0NBQ0E7QUFFQTtRQUNBLGVBQUE7Q0FDQTtBQUVBO1FBQ0EsWUFBQTtRQUNBLGFBQUE7UUFDQSxtQkFBQTtRQUNBLDhCQUFBO1FBQ0EsZ0NBQUE7Q0FDQSIsZmlsZToia2V5VmFsdWVQYWlyLnZ1ZSIsc291cmNlc0NvbnRlbnQ6Wyc8dGVtcGxhdGU+XHJcbiAgICA8ZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9Imt2Q29udGFpbmVyX3N0eWxlIiByZWY9ImNvbnRhaW5lciJcclxuICAgICAgICAgICAgIEBtb3VzZW92ZXIuc3RvcD0ic2hvd19vcF9idXR0b24iXHJcbiAgICAgICAgICAgICBAbW91c2VvdXQuc3RvcD0idHJhbnNwYXJlbnRfb3BfYnV0dG9uIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3Bfb3V0ZXIiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3AiXHJcbiAgICAgICAgICAgICAgICAgICAgIDpjbGFzcz0ie29wX2N0bDplZGl0X21vZGUgJiYgbW9kZSAhPT0gXCdmaXhlZF9rZXlzXCd9IlxyXG4gICAgICAgICAgICAgICAgICAgICByZWY9ImRlbCJcclxuICAgICAgICAgICAgICAgICAgICAgQG1vdXNlb3Zlcj0ic2hvd19jb250YWluZXJfYm9yZGVyKGRlbGV0aW5nX2NvbG9yKSJcclxuICAgICAgICAgICAgICAgICAgICAgQG1vdXNlb3V0PSJ0cmFuc3BhcmVudF9jb250YWluZXJfYm9yZGVyIlxyXG4gICAgICAgICAgICAgICAgICAgICBAY2xpY2suc3RvcD0iZGVsZXRpbmdfa3YiPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiA6Y2xhc3M9IntpbnB1dDp0cnVlLGlucHV0X2N0bDplZGl0X21vZGUgJiYgKG1vZGUgPT09XCdmcmVlX3N0eWxlXCcgfHwgbW9kZSA9PT1cJ29wdGlvbnNfa2V5XCcpfSI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi1pZj0ibW9kZT09PVwnZnJlZV9zdHlsZVwnIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6c3R5bGU9InN0eWxlX2xhYmVsX3dpZHRoIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSJ0ZXh0IlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6dmFsdWU9ImxhYmVsIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0ia2V5Li4uIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6ZGlzYWJsZWQ9IiFlZGl0X21vZGUiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEBmb2N1c291dD0ia2V5Q2hhbmdlZCgkZXZlbnQudGFyZ2V0LnZhbHVlKSIvPlxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2LWlmPSJtb2RlPT09XCdmaXhlZF9rZXlzXCd8fCBtb2RlPT09XCdhcnJheVwnIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz0iZml4ZWRfbGFiZWwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDpzdHlsZT0ic3R5bGVfbGFiZWxfd2lkdGgiPnt7bGFiZWx9fVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8dC1zZWxlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi1pZj0ibW9kZT09PVwnb3B0aW9uc19rZXlcJyJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOnZhbHVlPSJsYWJlbCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOndpZHRoPSJsYWJlbF93aWR0aCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOmRpc2FibGVkPSIhZWRpdF9tb2RlIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6b3B0aW9ucz0ib3B0aW9ucyJcclxuICAgICAgICAgICAgICAgICAgICAgICAgQGlucHV0PSJrZXlDaGFuZ2VkIj48L3Qtc2VsZWN0PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VtaWNvbG9uIj48c3Ryb25nPjo8L3N0cm9uZz48L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiA6Y2xhc3M9IntpbnB1dDp0cnVlLGlucHV0X2N0bDpmYWxzZX0iIHYtaWY9InZhbHVlIGluc3RhbmNlb2YgT2JqZWN0Ij5cclxuICAgICAgICAgICAgICAgIDx0LW1hcCA6bGFiZWw9ImxhYmVsIiA6aW5zdHJ1Y3Q9Imluc3RydWN0IiA6ZGF0YT0idmFsdWUiIDplZGl0X21vZGU9ImVkaXRfbW9kZSIgOnF1ZXJ5X21vZGVfZnVuY3Rpb249InF1ZXJ5X21vZGVfZnVuY3Rpb24iIEBjaGFuZ2U9Im9uQ2hhbmdlIj48L3QtbWFwPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiA6Y2xhc3M9IntpbnB1dDp0cnVlLGlucHV0X2N0bDplZGl0X21vZGV9IiB2LWVsc2U+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgOnN0eWxlPSJzdHlsZV92YWx1ZV93aWR0aCIgdHlwZT0idGV4dCIgOnZhbHVlPSJ2YWx1ZSIgcGxhY2Vob2xkZXI9InZhbHVlLi4uIiA6ZGlzYWJsZWQ9IiFlZGl0X21vZGUiIEBpbnB1dD0idmFsdWVDaGFuZ2VkIi8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSJwdWxsX3JpZ2h0IG9wX291dGVyIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wIlxyXG4gICAgICAgICAgICAgICAgICAgICA6Y2xhc3M9IntvcF9jdGw6ZWRpdF9tb2RlICYmIG1vZGUgIT09IFwnZml4ZWRfa2V5c1wnfSJcclxuICAgICAgICAgICAgICAgICAgICAgcmVmPSJhZGQiXHJcbiAgICAgICAgICAgICAgICAgICAgIEBtb3VzZW92ZXI9InNob3dfY29udGFpbmVyX2JvcmRlcihhZGRpbmdfY29sb3IpIlxyXG4gICAgICAgICAgICAgICAgICAgICBAbW91c2VvdXQ9InRyYW5zcGFyZW50X2NvbnRhaW5lcl9ib3JkZXIiXHJcbiAgICAgICAgICAgICAgICAgICAgIEBjbGljay5zdG9wPSJhZGRpbmdfbmV3X2t2Ij48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC90ZW1wbGF0ZT5cclxuPHNjcmlwdD5cclxuICAgIGV4cG9ydCBkZWZhdWx0e1xyXG4gICAgICAgIHByb3BzOiB7XHJcbiAgICAgICAgICAgIGxhYmVsOiB7dHlwZTogW1N0cmluZywgTnVtYmVyLCBCb29sZWFuXSwgcmVxdWlyZWQ6IGZhbHNlLCBkZWZhdWx0OiBudWxsfSxcclxuICAgICAgICAgICAgdmFsdWU6IFtTdHJpbmcsIE51bWJlciwgQm9vbGVhbiwgT2JqZWN0LCBBcnJheV0sXHJcbiAgICAgICAgICAgIGluc3RydWN0OiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UsIGRlZmF1bHQ6IFwnXCd9LFxyXG4gICAgICAgICAgICBsYWJlbF93aWR0aDoge3R5cGU6IE51bWJlciwgcmVxdWlyZWQ6IGZhbHNlLCBkZWZhdWx0OiA2fSxcclxuICAgICAgICAgICAgdmFsdWVfd2lkdGg6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiBmYWxzZSwgZGVmYXVsdDogMzZ9LFxyXG4gICAgICAgICAgICBlZGl0X21vZGU6IHt0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogZmFsc2UsIGRlZmF1bHQ6IGZhbHNlfSxcclxuICAgICAgICAgICAgbW9kZToge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IDF9LFxyXG4gICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBBcnJheSwgcmVxdWlyZWQ6IGZhbHNlLCBkZWZhdWx0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHF1ZXJ5X21vZGVfZnVuY3Rpb246IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IEZ1bmN0aW9uLCByZXF1aXJlZDogZmFsc2UsIGRlZmF1bHQ6IChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge21vZGU6IFwnZnJlZV9zdHlsZVwnLCBrZXlzOiBudWxsLCBvcHRpb25zOiBudWxsfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGF0YSgpe1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgZWRpdGluZ19jb2xvcjogWzMzLCAxNTAsIDI0M10sXHJcbiAgICAgICAgICAgICAgICBhZGRpbmdfY29sb3I6IFs3NiwgMTc1LCA4MF0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGluZ19jb2xvcjogWzI0NCwgNjcsIDU0XSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWV0aG9kczoge1xyXG4gICAgICAgICAgICBzaG93X2NvbnRhaW5lcl9ib3JkZXIocmdiQXJyYXkpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdF9tb2RlICYmIHRoaXMubW9kZSE9PVwnZml4ZWRfa2V5c1wnICYmIHRoaXMuJHJlZnMuY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5jb250YWluZXIuc3R5bGUuYm9yZGVyQ29sb3IgPSBgcmdiYSgke3JnYkFycmF5fSwgMSlgO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuY29udGFpbmVyLnN0eWxlLmJveFNoYWRvdyA9IGAwIDAgMTBweCAwIHJnYmEoJHtyZ2JBcnJheX0sIDEpYFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0cmFuc3BhcmVudF9jb250YWluZXJfYm9yZGVyKCl7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0X21vZGUgJiYgdGhpcy5tb2RlIT09XCdmaXhlZF9rZXlzXCcgJiYgdGhpcy4kcmVmcy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmNvbnRhaW5lci5zdHlsZS5ib3JkZXJDb2xvciA9IFwndHJhbnNwYXJlbnRcJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmNvbnRhaW5lci5zdHlsZS5ib3hTaGFkb3cgPSBcJzAgMCAwIDAgdHJhbnNwYXJlbnRcJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaG93X29wX2J1dHRvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdF9tb2RlICYmIHRoaXMubW9kZSE9PVwnZml4ZWRfa2V5c1wnICYmIHRoaXMuJHJlZnNbXCdhZGRcJ10gJiYgdGhpcy4kcmVmc1tcJ2RlbFwnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnNbXCdhZGRcJ10uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYHJnYmEoJHt0aGlzLmFkZGluZ19jb2xvcn0sIDAuOSlgO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnNbXCdhZGRcJ10uc3R5bGUuYm94U2hhZG93ID0gYDAgMCAzcHggMCByZ2JhKCR7dGhpcy5hZGRpbmdfY29sb3J9LCAxKWA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmc1tcJ2RlbFwnXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBgcmdiYSgke3RoaXMuZGVsZXRpbmdfY29sb3J9LCAwLjkpYDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzW1wnZGVsXCddLnN0eWxlLmJveFNoYWRvdyA9IGAwIDAgM3B4IDAgcmdiYSgke3RoaXMuZGVsZXRpbmdfY29sb3J9LCAxKWBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdHJhbnNwYXJlbnRfb3BfYnV0dG9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0X21vZGUgJiYgdGhpcy5tb2RlIT09XCdmaXhlZF9rZXlzXCcgJiYgdGhpcy4kcmVmc1tcJ2FkZFwnXSAmJiB0aGlzLiRyZWZzW1wnZGVsXCddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmc1tcJ2FkZFwnXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcJ3RyYW5zcGFyZW50XCc7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmc1tcJ2FkZFwnXS5zdHlsZS5ib3hTaGFkb3cgPSBcJzAgMCAwIDAgdHJhbnNwYXJlbnRcJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzW1wnZGVsXCddLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwndHJhbnNwYXJlbnRcJztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzW1wnZGVsXCddLnN0eWxlLmJveFNoYWRvdyA9IFwnMCAwIDAgMCB0cmFuc3BhcmVudFwnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFkZGluZ19uZXdfa3YoKXtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVkaXRfbW9kZSAmJiB0aGlzLm1vZGUgIT09IFwnZml4ZWRfa2V5c1wnKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoXCdjaGFuZ2VcJywgXCdpbnNlcnRcJywgdGhpcy5sYWJlbCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlbGV0aW5nX2t2KCl7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lZGl0X21vZGUgJiYgdGhpcy5tb2RlICE9PSBcJ2ZpeGVkX2tleXNcJylcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KFwnY2hhbmdlXCcsIFwnZGVsZXRlXCcsIHRoaXMubGFiZWwpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBrZXlDaGFuZ2VkKHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoXCdjaGFuZ2VcJywgXCd1cGRhdGVfa2V5XCcsIHRoaXMubGFiZWwsIHZhbHVlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdmFsdWVDaGFuZ2VkKGUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZW1pdChcJ2NoYW5nZVwnLCBcJ3VwZGF0ZV92YWx1ZVwnLCB0aGlzLmxhYmVsLCBlLnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlKHR5cGUpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwnZGVsZXRlXCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KFwnY2hhbmdlXCcsIFwndXBkYXRlX3ZhbHVlXCcsIHRoaXMubGFiZWwsIFwnXCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KFwnY2hhbmdlXCcpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb21wdXRlZDoge1xyXG4gICAgICAgICAgICBzdHlsZV9sYWJlbF93aWR0aCgpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHt3aWR0aDogYCR7dGhpcy5sYWJlbF93aWR0aH1weGB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0eWxlX3ZhbHVlX3dpZHRoKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge3dpZHRoOiBgJHt0aGlzLnZhbHVlX3dpZHRofXB4YH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgfVxyXG48XC9zY3JpcHQ+XHJcbjxzdHlsZSBzY29wZWQ+XHJcbiAgICBkaXYua3ZDb250YWluZXJfc3R5bGUge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgbWFyZ2luOiAycHggMDtcclxuICAgICAgICBwYWRkaW5nOiAxcHggMXB4O1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDlweDtcclxuICAgICAgICBib3gtc2hhZG93OiAwO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgIHRyYW5zaXRpb24tcHJvcGVydHk6IGJvcmRlciwgYmFja2dyb3VuZC1jb2xvcjtcclxuICAgICAgICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAxNTBtcztcclxuICAgICAgICB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyO1xyXG4gICAgfVxyXG5cclxuICAgIGRpdi5pbnB1dCB7XHJcbiAgICAgICAgbWFyZ2luOiAwIDNweDtcclxuICAgICAgICBib3JkZXI6IDBweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA5cHg7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXQge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgICAgIGJvcmRlcjogMHB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG5cdFx0Y29sb3I6IGluaGVyaXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZGl2LmZpeGVkX2xhYmVsIHtcclxuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgICAgIGNvbG9yOiBpbmhlcml0O1xyXG4gICAgICAgIHBhZGRpbmc6IDAgMTBweDtcclxuICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXQ6Zm9jdXMge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMzMsIDE1MCwgMjQzLCAwLjUpO1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206O1xyXG4gICAgfVxyXG5cclxuICAgIGRpdi5wdWxsX3JpZ2h0IHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIH1cclxuXHJcbiAgICBkaXYub3Bfb3V0ZXIge1xyXG4gICAgICAgIHBhZGRpbmc6IDJweCAwO1xyXG4gICAgfVxyXG5cclxuICAgIGRpdi5vcCB7XHJcbiAgICAgICAgd2lkdGg6IDEwcHg7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgICBib3gtc2hhZG93OiAwIDAgMCAwIHRyYW5zcGFyZW50O1xyXG4gICAgfVxyXG48L3N0eWxlPlxyXG4nXSxzb3VyY2VSb290OiIifV0pfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiByfSksbi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLiRjcmVhdGVFbGVtZW50LG49ZS5fc2VsZi5fY3x8dDtyZXR1cm4gbigiZGl2IixbbigiZGl2Iix7cmVmOiJjb250YWluZXIiLHN0YXRpY0NsYXNzOiJrdkNvbnRhaW5lcl9zdHlsZSIsb246e21vdXNlb3ZlcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdG9wUHJvcGFnYXRpb24oKSxlLnNob3dfb3BfYnV0dG9uKHQpfSxtb3VzZW91dDpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdG9wUHJvcGFnYXRpb24oKSxlLnRyYW5zcGFyZW50X29wX2J1dHRvbih0KX19fSxbbigiZGl2Iix7c3RhdGljQ2xhc3M6Im9wX291dGVyIn0sW24oImRpdiIse3JlZjoiZGVsIixzdGF0aWNDbGFzczoib3AiLGNsYXNzOntvcF9jdGw6ZS5lZGl0X21vZGUmJiJmaXhlZF9rZXlzIiE9PWUubW9kZX0sb246e21vdXNlb3ZlcjpmdW5jdGlvbih0KXtlLnNob3dfY29udGFpbmVyX2JvcmRlcihlLmRlbGV0aW5nX2NvbG9yKX0sbW91c2VvdXQ6ZS50cmFuc3BhcmVudF9jb250YWluZXJfYm9yZGVyLGNsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiB0LnN0b3BQcm9wYWdhdGlvbigpLGUuZGVsZXRpbmdfa3YodCl9fX0pXSksZS5fdigiICIpLG4oImRpdiIse2NsYXNzOntpbnB1dDohMCxpbnB1dF9jdGw6ZS5lZGl0X21vZGUmJigiZnJlZV9zdHlsZSI9PT1lLm1vZGV8fCJvcHRpb25zX2tleSI9PT1lLm1vZGUpfX0sWyJmcmVlX3N0eWxlIj09PWUubW9kZT9uKCJpbnB1dCIse3N0eWxlOmUuc3R5bGVfbGFiZWxfd2lkdGgsYXR0cnM6e3R5cGU6InRleHQiLHBsYWNlaG9sZGVyOiJrZXkuLi4iLGRpc2FibGVkOiFlLmVkaXRfbW9kZX0sZG9tUHJvcHM6e3ZhbHVlOmUubGFiZWx9LG9uOntmb2N1c291dDpmdW5jdGlvbih0KXtlLmtleUNoYW5nZWQodC50YXJnZXQudmFsdWUpfX19KTplLl9lKCksZS5fdigiICIpLCJmaXhlZF9rZXlzIj09PWUubW9kZXx8ImFycmF5Ij09PWUubW9kZT9uKCJkaXYiLHtzdGF0aWNDbGFzczoiZml4ZWRfbGFiZWwiLHN0eWxlOmUuc3R5bGVfbGFiZWxfd2lkdGh9LFtlLl92KGUuX3MoZS5sYWJlbCkrIlxuICAgICAgICAgICAgIildKTplLl9lKCksZS5fdigiICIpLCJvcHRpb25zX2tleSI9PT1lLm1vZGU/bigidC1zZWxlY3QiLHthdHRyczp7dmFsdWU6ZS5sYWJlbCx3aWR0aDplLmxhYmVsX3dpZHRoLGRpc2FibGVkOiFlLmVkaXRfbW9kZSxvcHRpb25zOmUub3B0aW9uc30sb246e2lucHV0OmUua2V5Q2hhbmdlZH19KTplLl9lKCldLDEpLGUuX3YoIiAiKSxlLl9tKDApLGUuX3YoIiAiKSxlLnZhbHVlIGluc3RhbmNlb2YgT2JqZWN0P24oImRpdiIse2NsYXNzOntpbnB1dDohMCxpbnB1dF9jdGw6ITF9fSxbbigidC1tYXAiLHthdHRyczp7bGFiZWw6ZS5sYWJlbCxpbnN0cnVjdDplLmluc3RydWN0LGRhdGE6ZS52YWx1ZSxlZGl0X21vZGU6ZS5lZGl0X21vZGUscXVlcnlfbW9kZV9mdW5jdGlvbjplLnF1ZXJ5X21vZGVfZnVuY3Rpb259LG9uOntjaGFuZ2U6ZS5vbkNoYW5nZX19KV0sMSk6bigiZGl2Iix7Y2xhc3M6e2lucHV0OiEwLGlucHV0X2N0bDplLmVkaXRfbW9kZX19LFtuKCJpbnB1dCIse3N0eWxlOmUuc3R5bGVfdmFsdWVfd2lkdGgsYXR0cnM6e3R5cGU6InRleHQiLHBsYWNlaG9sZGVyOiJ2YWx1ZS4uLiIsZGlzYWJsZWQ6IWUuZWRpdF9tb2RlfSxkb21Qcm9wczp7dmFsdWU6ZS52YWx1ZX0sb246e2lucHV0OmUudmFsdWVDaGFuZ2VkfX0pXSksZS5fdigiICIpLG4oImRpdiIse3N0YXRpY0NsYXNzOiJwdWxsX3JpZ2h0IG9wX291dGVyIn0sW24oImRpdiIse3JlZjoiYWRkIixzdGF0aWNDbGFzczoib3AiLGNsYXNzOntvcF9jdGw6ZS5lZGl0X21vZGUmJiJmaXhlZF9rZXlzIiE9PWUubW9kZX0sb246e21vdXNlb3ZlcjpmdW5jdGlvbih0KXtlLnNob3dfY29udGFpbmVyX2JvcmRlcihlLmFkZGluZ19jb2xvcil9LG1vdXNlb3V0OmUudHJhbnNwYXJlbnRfY29udGFpbmVyX2JvcmRlcixjbGljazpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdG9wUHJvcGFnYXRpb24oKSxlLmFkZGluZ19uZXdfa3YodCl9fX0pXSldKV0pfSxpPVtmdW5jdGlvbigpe3ZhciBlPXRoaXMuJGNyZWF0ZUVsZW1lbnQsdD10aGlzLl9zZWxmLl9jfHxlO3JldHVybiB0KCJkaXYiLHtzdGF0aWNDbGFzczoic2VtaWNvbG9uIn0sW3QoInN0cm9uZyIsW3RoaXMuX3YoIjoiKV0pXSl9XTtyLl93aXRoU3RyaXBwZWQ9ITB9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyMiksaT1uKDApLGE9T2JqZWN0KGkuYSkobnVsbCxyLmEsci5iLCExLG51bGwsbnVsbCxudWxsKTthLm9wdGlvbnMuX19maWxlPSJzcmMvanNvbmVkaXRvci9qc29uLW1hcC9wbHVzLnZ1ZSIsdC5hPWEuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsZnVuY3Rpb24oKXtyZXR1cm4gcn0pLG4uZCh0LCJiIixmdW5jdGlvbigpe3JldHVybiBpfSk7dmFyIHI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS4kY3JlYXRlRWxlbWVudDtyZXR1cm4oZS5fc2VsZi5fY3x8dCkoImRpdiIse3JlZjoiY29udGFpbmVyIixzdGF0aWNTdHlsZTp7d2lkdGg6IjMwcHgiLGhlaWdodDoiMzBweCIsYm9yZGVyOiIxcHggZGFzaGVkIHJnYmEoNzYsIDE3NSwgODAsMSkiLCJib3JkZXItcmFkaXVzIjoiM3B4IixkaXNwbGF5OiJmbGV4IixjdXJzb3I6InBvaW50ZXIifSxvbjp7bW91c2VvdmVyOmZ1bmN0aW9uKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCksZS4kcmVmcy5jb250YWluZXIuc3R5bGUuYm94U2hhZG93PSIwIDAgNXB4IDAgcmdiYSg3NiwgMTc1LCA4MCwwLjcpIn0sbW91c2VvdXQ6ZnVuY3Rpb24odCl7dC5zdG9wUHJvcGFnYXRpb24oKSxlLiRyZWZzLmNvbnRhaW5lci5zdHlsZS5ib3hTaGFkb3c9IiJ9fX0sW2UuX20oMCldKX0saT1bZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRjcmVhdGVFbGVtZW50LHQ9dGhpcy5fc2VsZi5fY3x8ZTtyZXR1cm4gdCgiZGl2Iix7c3RhdGljU3R5bGU6e21hcmdpbjoiYXV0byJ9fSxbdCgiZGl2Iix7c3RhdGljU3R5bGU6e2NvbG9yOiIjQkRCREJEIiwidXNlci1zZWxlY3QiOiJub25lIn19LFt0aGlzLl92KCIrIildKV0pfV07ci5fd2l0aFN0cmlwcGVkPSEwfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjQpLGk9bigwKSxhPU9iamVjdChpLmEpKG51bGwsci5hLHIuYiwhMSxudWxsLG51bGwsbnVsbCk7YS5vcHRpb25zLl9fZmlsZT0ic3JjL2pzb25lZGl0b3IvanNvbi1tYXAvbWludXMudnVlIix0LmE9YS5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiByfSksbi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLiRjcmVhdGVFbGVtZW50O3JldHVybihlLl9zZWxmLl9jfHx0KSgiZGl2Iix7cmVmOiJjb250YWluZXIiLHN0YXRpY1N0eWxlOnt3aWR0aDoiMzBweCIsaGVpZ2h0OiIzMHB4Iixib3JkZXI6IjFweCBkYXNoZWQgcmdiYSgyNDQsIDY3LCA1NCwxKSIsImJvcmRlci1yYWRpdXMiOiIzcHgiLGRpc3BsYXk6ImZsZXgiLGN1cnNvcjoicG9pbnRlciJ9LG9uOnttb3VzZW92ZXI6ZnVuY3Rpb24odCl7dC5zdG9wUHJvcGFnYXRpb24oKSxlLiRyZWZzLmNvbnRhaW5lci5zdHlsZS5ib3hTaGFkb3c9IjAgMCA1cHggMCByZ2JhKDI0NCwgNjcsIDU0LDAuNykifSxtb3VzZW91dDpmdW5jdGlvbih0KXt0LnN0b3BQcm9wYWdhdGlvbigpLGUuJHJlZnMuY29udGFpbmVyLnN0eWxlLmJveFNoYWRvdz0iIn19fSxbZS5fbSgwKV0pfSxpPVtmdW5jdGlvbigpe3ZhciBlPXRoaXMuJGNyZWF0ZUVsZW1lbnQsdD10aGlzLl9zZWxmLl9jfHxlO3JldHVybiB0KCJkaXYiLHtzdGF0aWNTdHlsZTp7bWFyZ2luOiJhdXRvIn19LFt0KCJkaXYiLHtzdGF0aWNTdHlsZTp7Y29sb3I6IiNCREJEQkQiLCJ1c2VyLXNlbGVjdCI6Im5vbmUifX0sW3RoaXMuX3YoIi0iKV0pXSl9XTtyLl93aXRoU3RyaXBwZWQ9ITB9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1KSxpPW4oMjgpLGE9bigwKSxvPSExO3ZhciBzPWZ1bmN0aW9uIGluamVjdFN0eWxlKGUpe298fG4oMjYpfSxkPU9iamVjdChhLmEpKHIuYSxpLmEsaS5iLCExLHMsImRhdGEtdi1lNmFhNjIxYSIsbnVsbCk7ZC5vcHRpb25zLl9fZmlsZT0ic3JjL2pzb25lZGl0b3IvanNvbi1tYXAvc2VsZWN0LnZ1ZSIsdC5hPWQuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpOyJzdHJpbmciPT10eXBlb2YgciYmKHI9W1tlLmksciwiIl1dKSxyLmxvY2FscyYmKGUuZXhwb3J0cz1yLmxvY2Fscyk7KDAsbigyKS5kZWZhdWx0KSgiYmE3YzdlOGUiLHIsITEse30pfSxmdW5jdGlvbihlLHQsbil7KGUuZXhwb3J0cz1uKDEpKCEwKSkucHVzaChbZS5pLCJcbmRpdi5jb250YWluZXJbZGF0YS12LWU2YWE2MjFhXSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG59XG5pbnB1dFtkYXRhLXYtZTZhYTYyMWFdIHtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgcGFkZGluZzogMCAxMHB4O1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgYm9yZGVyOiAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDlweDtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICBjb2xvcjogIzJFN0QzMjtcbiAgICB0cmFuc2l0aW9uOiB3aWR0aCwgYmFja2dyb3VuZC1jb2xvciAwLjE1cyBsaW5lYXI7XG59XG5pbnB1dFtkYXRhLXYtZTZhYTYyMWFdOmZvY3VzIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDMzLCAxNTAsIDI0MywgMC41KTtcbn1cbmlucHV0W2RhdGEtdi1lNmFhNjIxYV06Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xuICAgIGNvbG9yOiAjQTVENkE3O1xufVxuaW5wdXRbZGF0YS12LWU2YWE2MjFhXTpmb2N1czo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7XG4gICAgY29sb3I6IHdoaXRlO1xufVxuZGl2Lm1lbnVbZGF0YS12LWU2YWE2MjFhXSB7XG4gICAgbWFyZ2luLXRvcDogNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBib3gtc2hhZG93OiAwIDAgNXB4IDAgcmdiYSgxODksIDE5NSwgMTk5LCAxKTtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBvdmVyZmxvdzogYXV0bztcbiAgICBwb3NpdGlvbjogYWJzb2x1dGVcbn1cbmRpdi5tZW51X2l0ZW1bZGF0YS12LWU2YWE2MjFhXSB7XG4gICAgbWFyZ2luOiAxcHggMDtcbiAgICBwYWRkaW5nOiAxcHggN3B4O1xuICAgIGJvcmRlci1yYWRpdXM6IDdweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjE1cyBsaW5lYXI7XG59XG5kaXYubWVudV9pdGVtW2RhdGEtdi1lNmFhNjIxYV06aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMTg5LCAxOTUsIDE5OSwgMC40KTtcbn1cbltkYXRhLXYtZTZhYTYyMWFdOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgd2lkdGg6IDdweDtcbiAgICBoZWlnaHQ6IDdweDtcbn1cbltkYXRhLXYtZTZhYTYyMWFdOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XG4gICAgLyotd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCA2cHggcmdiYSgwLCAwLCAwLCAwLjMpOyovXG4gICAgLypib3JkZXItcmFkaXVzOiA0cHg7Ki9cbn1cbltkYXRhLXYtZTZhYTYyMWFdOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNnB4IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG59XG5bZGF0YS12LWU2YWE2MjFhXTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICAgIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMCAwIDZweCByZ2JhKDAsIDAsIDAsIDEpO1xufVxuXG5cbiIsIiIse3ZlcnNpb246Myxzb3VyY2VzOlsiL2hvbWUvZGFyay9Eb2N1bWVudHMvZ2l0L0ZGWi1Vc2VyQmFkZ2VzL3NyYy9qc29uZWRpdG9yL2pzb24tbWFwL3NyYy9qc29uZWRpdG9yL2pzb24tbWFwL3NlbGVjdC52dWUiXSxuYW1lczpbXSxtYXBwaW5nczoiO0FBd0RBO0lBQ0EsZUFBQTtDQUNBO0FBRUE7SUFDQSxnQkFBQTtJQUNBLGdCQUFBO0lBQ0EsY0FBQTtJQUNBLFVBQUE7SUFDQSxtQkFBQTtJQUNBLHdCQUFBO0lBQ0EsZUFBQTtJQUNBLGlEQUFBO0NBQ0E7QUFFQTtJQUNBLG9DQUFBO0NBQ0E7QUFFQTtJQUNBLGVBQUE7Q0FDQTtBQUVBO0lBQ0EsYUFBQTtDQUNBO0FBRUE7SUFDQSxnQkFBQTtJQUNBLG1CQUFBO0lBQ0EsNkNBQUE7SUFDQSxrQkFBQTtJQUNBLGVBQUE7SUFDQSxrQkFBQTtDQUNBO0FBRUE7SUFDQSxjQUFBO0lBQ0EsaUJBQUE7SUFDQSxtQkFBQTtJQUNBLGdCQUFBO0lBQ0Esb0NBQUE7Q0FDQTtBQUVBO0lBQ0EscUNBQUE7Q0FDQTtBQUVBO0lBQ0EsV0FBQTtJQUNBLFlBQUE7Q0FDQTtBQUVBO0lBQ0EseURBQUE7SUFDQSx1QkFBQTtDQUNBO0FBRUE7SUFDQSxxREFBQTtJQUNBLG1CQUFBO0NBQ0E7QUFFQTtJQUNBLG1EQUFBO0NBQ0EiLGZpbGU6InNlbGVjdC52dWUiLHNvdXJjZXNDb250ZW50OlsnPHRlbXBsYXRlPlxyXG4gICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj5cclxuICAgICAgICA8aW5wdXQgOnN0eWxlPSJjc3NfaW5wdXQiIDp2YWx1ZT0idmFsdWUiIHBsYWNlaG9sZGVyPSJrZXkuLi4iIDpkaXNhYmxlZD0iZGlzYWJsZWQiIEBjbGljay5zdG9wPSJtdF9mb2N1cyIvPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9Im1lbnUiIDpzdHlsZT0iY3NzX21lbnVfZ3JvdXAiIHYtc2hvdz0iY3RsX2Ryb3BfZG93biIgQG1vdXNlb3V0LnN0b3A9IiI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1lbnVfaXRlbSIgdi1mb3I9Iml0ZW0gaW4gb3B0aW9ucyIgOmtleT0iaXRlbSIgQGNsaWNrPSJzZWxlY3RpbmcoaXRlbSkiPnt7aXRlbX19PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC90ZW1wbGF0ZT5cclxuPHNjcmlwdD5cclxuICAgIGV4cG9ydCBkZWZhdWx0e1xyXG4gICAgICAgIHByb3BzOiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBbTnVtYmVyLCBTdHJpbmddLFxyXG4gICAgICAgICAgICB3aWR0aDoge3R5cGU6IE51bWJlciwgcmVxdWlyZWQ6IGZhbHNlLCBkZWZhdWx0OiAyMDB9LFxyXG4gICAgICAgICAgICBtZW51X2hlaWdodDoge3R5cGU6IE51bWJlciwgcmVxdWlyZWQ6IGZhbHNlLCBkZWZhdWx0OiAxMDB9LFxyXG4gICAgICAgICAgICBkaXNhYmxlZDoge3R5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiBmYWxzZSwgZGVmYXVsdDogZmFsc2V9LFxyXG4gICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBBcnJheSwgcmVxdWlyZTogZmFsc2UsIGRlZmF1bHQ6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW11cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGEoKXtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGN0bF9kcm9wX2Rvd246IGZhbHNlLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb21wdXRlZDoge1xyXG4gICAgICAgICAgICBjc3NfaW5wdXQoKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7d2lkdGg6IGAke3RoaXMud2lkdGh9cHhgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjc3NfbWVudV9ncm91cCgpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBcJ21heC1oZWlnaHRcJzogYCR7dGhpcy5tZW51X2hlaWdodH1weGAsXHJcbiAgICAgICAgICAgICAgICAgICAgXCdtaW4taGVpZ2h0XCc6IGAxNXB4YCxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWV0aG9kczoge1xyXG4gICAgICAgICAgICBtdF9mb2N1cygpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdGxfZHJvcF9kb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2VsZWN0aW5nKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdGxfZHJvcF9kb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KFwnaW5wdXRcJywgaXRlbSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW91bnRlZCgpIHtcclxuICAgICAgICAgICAgbGV0IHZtID0gdGhpcztcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCdjbGlja1wnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2bS5jdGxfZHJvcF9kb3duID0gZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgIH1cclxuPFwvc2NyaXB0PlxyXG48c3R5bGUgc2NvcGVkPlxyXG5cclxuICAgIGRpdi5jb250YWluZXIge1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgfVxyXG5cclxuICAgIGlucHV0IHtcclxuICAgICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xyXG4gICAgICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICAgICAgYm9yZGVyOiAwO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDlweDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgICBjb2xvcjogIzJFN0QzMjtcclxuICAgICAgICB0cmFuc2l0aW9uOiB3aWR0aCwgYmFja2dyb3VuZC1jb2xvciAwLjE1cyBsaW5lYXI7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXQ6Zm9jdXMge1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzMsIDE1MCwgMjQzLCAwLjUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHtcclxuICAgICAgICBjb2xvcjogI0E1RDZBNztcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dDpmb2N1czo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7XHJcbiAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgfVxyXG5cclxuICAgIGRpdi5tZW51IHtcclxuICAgICAgICBtYXJnaW4tdG9wOiA1cHg7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCA1cHggMCByZ2JhKDE4OSwgMTk1LCAxOTksIDEpO1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgICAgIG92ZXJmbG93OiBhdXRvO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZVxyXG4gICAgfVxyXG5cclxuICAgIGRpdi5tZW51X2l0ZW0ge1xyXG4gICAgICAgIG1hcmdpbjogMXB4IDA7XHJcbiAgICAgICAgcGFkZGluZzogMXB4IDdweDtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA3cHg7XHJcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4xNXMgbGluZWFyO1xyXG4gICAgfVxyXG5cclxuICAgIGRpdi5tZW51X2l0ZW06aG92ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTg5LCAxOTUsIDE5OSwgMC40KTtcclxuICAgIH1cclxuXHJcbiAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgICAgICB3aWR0aDogN3B4O1xyXG4gICAgICAgIGhlaWdodDogN3B4O1xyXG4gICAgfVxyXG5cclxuICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xyXG4gICAgICAgIC8qLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNnB4IHJnYmEoMCwgMCwgMCwgMC4zKTsqL1xyXG4gICAgICAgIC8qYm9yZGVyLXJhZGl1czogNHB4OyovXHJcbiAgICB9XHJcblxyXG4gICAgOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XHJcbiAgICAgICAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNnB4IHJnYmEoMCwgMCwgMCwgMC41KTtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICB9XHJcblxyXG4gICAgOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7XHJcbiAgICAgICAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgNnB4IHJnYmEoMCwgMCwgMCwgMSk7XHJcbiAgICB9XHJcblxyXG5cclxuPC9zdHlsZT4nXSxzb3VyY2VSb290OiIifV0pfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiByfSksbi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLiRjcmVhdGVFbGVtZW50LG49ZS5fc2VsZi5fY3x8dDtyZXR1cm4gbigiZGl2Iix7c3RhdGljQ2xhc3M6ImNvbnRhaW5lciJ9LFtuKCJpbnB1dCIse3N0eWxlOmUuY3NzX2lucHV0LGF0dHJzOntwbGFjZWhvbGRlcjoia2V5Li4uIixkaXNhYmxlZDplLmRpc2FibGVkfSxkb21Qcm9wczp7dmFsdWU6ZS52YWx1ZX0sb246e2NsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiB0LnN0b3BQcm9wYWdhdGlvbigpLGUubXRfZm9jdXModCl9fX0pLGUuX3YoIiAiKSxuKCJkaXYiLHtkaXJlY3RpdmVzOlt7bmFtZToic2hvdyIscmF3TmFtZToidi1zaG93Iix2YWx1ZTplLmN0bF9kcm9wX2Rvd24sZXhwcmVzc2lvbjoiY3RsX2Ryb3BfZG93biJ9XSxzdGF0aWNDbGFzczoibWVudSIsc3R5bGU6ZS5jc3NfbWVudV9ncm91cCxvbjp7bW91c2VvdXQ6ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX19fSxlLl9sKGUub3B0aW9ucyxmdW5jdGlvbih0KXtyZXR1cm4gbigiZGl2Iix7a2V5OnQsc3RhdGljQ2xhc3M6Im1lbnVfaXRlbSIsb246e2NsaWNrOmZ1bmN0aW9uKG4pe2Uuc2VsZWN0aW5nKHQpfX19LFtlLl92KGUuX3ModCkpXSl9KSldKX0saT1bXTtyLl93aXRoU3RyaXBwZWQ9ITB9LGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2KSxpPW4oMzIpLGE9bigwKSxvPSExO3ZhciBzPWZ1bmN0aW9uIGluamVjdFN0eWxlKGUpe298fG4oMzApfSxkPU9iamVjdChhLmEpKHIuYSxpLmEsaS5iLCExLHMsImRhdGEtdi00ODY1M2ZmMCIsbnVsbCk7ZC5vcHRpb25zLl9fZmlsZT0ic3JjL2pzb25lZGl0b3IvanNvbi1tYXAvamVkaXRvci52dWUiLHQuYT1kLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMxKTsic3RyaW5nIj09dHlwZW9mIHImJihyPVtbZS5pLHIsIiJdXSksci5sb2NhbHMmJihlLmV4cG9ydHM9ci5sb2NhbHMpOygwLG4oMikuZGVmYXVsdCkoIjI2ZDE2ZTg0IixyLCExLHt9KX0sZnVuY3Rpb24oZSx0LG4peyhlLmV4cG9ydHM9bigxKSghMCkpLnB1c2goW2UuaSwiXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiIsIiIse3ZlcnNpb246Myxzb3VyY2VzOltdLG5hbWVzOltdLG1hcHBpbmdzOiIiLGZpbGU6ImplZGl0b3IudnVlIixzb3VyY2VSb290OiIifV0pfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiByfSksbi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJGNyZWF0ZUVsZW1lbnQsdD10aGlzLl9zZWxmLl9jfHxlO3JldHVybiB0KCJkaXYiLFt0KCJ0LW1hcCIse2F0dHJzOntkYXRhOnRoaXMuaW5pX2RhdGEsaW5zdHJ1Y3Q6dGhpcy5pbnN0cnVjdCxlZGl0X21vZGU6dGhpcy5lZGl0YWJsZSxxdWVyeV9tb2RlX2Z1bmN0aW9uOnRoaXMucXVlcnlfbW9kZV9mdW5jdGlvbn0sb246e2NoYW5nZTp0aGlzLm9uQ2hhbmdlfX0pLHRoaXMuX3YoIiAiKSx0KCJzcGFuIix7c3RhdGljU3R5bGU6e2Rpc3BsYXk6ImlubGluZS1ibG9jayIsdmlzaWJpbGl0eToiaGlkZGVuIixwb3NpdGlvbjoiYWJzb2x1dGUifSxhdHRyczp7aWQ6InNwIn19KV0sMSl9LGk9W107ci5fd2l0aFN0cmlwcGVkPSEwfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1uKDcpLGk9bigzNCksYT1uKDApLG89T2JqZWN0KGEuYSkoci5hLGkuYSxpLmIsITEsbnVsbCxudWxsLG51bGwpO28ub3B0aW9ucy5fX2ZpbGU9InNyYy9jb21wb25lbnRzL3VzZXJiYWRnZXMtdWkudnVlIix0LmRlZmF1bHQ9by5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiByfSksbi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLiRjcmVhdGVFbGVtZW50LG49ZS5fc2VsZi5fY3x8dDtyZXR1cm4gbigiZGl2IixbbigiZGl2Iix7c3RhdGljU3R5bGU6eyJtYXJnaW4tYm90dG9tIjoiNXB4In19LFtuKCJoMiIsW2UuX3YoZS5fcyhlLml0ZW0udGl0bGUpKV0pLGUuX3YoIiAiKSxuKCJwIixbZS5fdihlLl9zKGUuaXRlbS5kZXNjcmlwdGlvbikpXSksZS5fdigiICIpLG4oInAiLFtlLl92KCJDaGFuZ2VzIHdpbGwgdGFrZSBlZmZlY3QgdXBvbiByZWZyZXNoaW5nIHRoZSBwYWdlIildKV0pLGUuX3YoIiAiKSxuKCJ2LWpzb24tZWRpdG9yIix7cmVmOiJlZGl0b3IiLGF0dHJzOntkYXRhOkpTT04ucGFyc2UoZS52YWx1ZSksZWRpdGFibGU6ITB9LG9uOntjaGFuZ2U6ZnVuY3Rpb24odCl7ZS5vbkNoYW5nZSgpfX19KV0sMSl9LGk9W107ci5fd2l0aFN0cmlwcGVkPSEwfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj1uKDgpLGk9bigzOCksYT1uKDApLG89ITE7dmFyIHM9ZnVuY3Rpb24gaW5qZWN0U3R5bGUoZSl7b3x8bigzNil9LGQ9T2JqZWN0KGEuYSkoci5hLGkuYSxpLmIsITEscywiZGF0YS12LTdkYWM3NDM2IixudWxsKTtkLm9wdGlvbnMuX19maWxlPSJzcmMvY29tcG9uZW50cy91c2VyYmFkZ2VzLWRvYy52dWUiLHQuZGVmYXVsdD1kLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM3KTsic3RyaW5nIj09dHlwZW9mIHImJihyPVtbZS5pLHIsIiJdXSksci5sb2NhbHMmJihlLmV4cG9ydHM9ci5sb2NhbHMpOygwLG4oMikuZGVmYXVsdCkoIjA3NDc3ZjM1IixyLCExLHt9KX0sZnVuY3Rpb24oZSx0LG4peyhlLmV4cG9ydHM9bigxKSghMCkpLnB1c2goW2UuaSwiXG4qW2RhdGEtdi03ZGFjNzQzNl0ge1xuXHRtYXJnaW4tYm90dG9tOiA1cHg7XG59XG4iLCIiLHt2ZXJzaW9uOjMsc291cmNlczpbIi9ob21lL2RhcmsvRG9jdW1lbnRzL2dpdC9GRlotVXNlckJhZGdlcy9zcmMvY29tcG9uZW50cy9zcmMvY29tcG9uZW50cy91c2VyYmFkZ2VzLWRvYy52dWUiXSxuYW1lczpbXSxtYXBwaW5nczoiO0FBNERBO0NBQ0EsbUJBQUE7Q0FDQSIsZmlsZToidXNlcmJhZGdlcy1kb2MudnVlIixzb3VyY2VzQ29udGVudDpbJzx0ZW1wbGF0ZSBsYW5nPSJodG1sIj5cblx0PGRpdj5cblx0XHQ8aDE+VXNlckJhZGdlcyBEb2N1bWVudGF0aW9uPC9oMT5cblxuXHRcdDxoMj5Vc2luZyB0aGUgZWRpdG9yPC9oMj5cblxuXHRcdDxwPlRoaXMgYWRkb24gdXNlcyBhIEpTT04gZWRpdG9yIHRvIGFsbG93IGZvciBhIGxvdCBvZiBmcmVlZG9tIGZvciBjb25maWd1cmF0aW9uLiBNb3N0IHRoaW5ncyBzaG91bGQgYmUgcHJldHR5IG11Y2ggc2VsZi1leHBsYW5hdG9yeSwgaG93ZXZlciB0aGVyZSBhcmUgc29tZSB0aGluZ3MgdGhhdCBhcmUgbm90IGV4YWN0bHkgY2xlYXIuIEFsc28sIHRoZSBkZWZhdWx0IHNldHRpbmdzIGNvbnRhaW4gZXhhbXBsZXMgb2YgaG93IHRvIGNvbmZpZ3VyZSB0aGlzIGFkZG9uLiBQbGVhc2Uga2VlcCBpbiBtaW5kIHRoaXMgYWRkb24gaXMgc2V0IHVwIGZvciBtb3JlIGFkdmFuY2VkIHVzZXJzLjwvcD4gXG5cblx0XHQ8cD5BcnJheXMgY2FuIGJlIGNyZWF0ZWQgYnkgY3JlYXRpbmcgYW4gbmV3IGtleSwgYW5kIHNldHRpbmcgdGhlIHZhbHVlIHRvICJbXSIuIFRoZXkgYXJlIG91dGxpbmVkIGluIGJyb3duLjwvcD5cblxuXHRcdDxwPkxpa2V3aXNlIG9iamVjdHMgYXJlIG91dGxpbmVkIGluIHB1cnBsZSwgYW5kIGFyZSBjcmVhdGVkIGJ5IHNldHRpbmcgdGhlIHZhbHVlIHRvICJ7fSIuPC9wPlxuXG5cdFx0PHA+Q3JlYXRpbmcgYSBuZXcga2V5IGNhbiBiZSBkb25lIGJ5IGNsaWNraW5nIHRoZSBncmVlbiBidXR0b24uPC9wPlxuXG5cdFx0PHA+RGVsZXRpbmcgYSBrZXkgY2FuIGJlIGRvbmUgYnkgY2xpY2tpbmcgdGhlIHJlZCBidXR0b24gbmV4dCB0byBhIGtleS48L3A+XG5cblx0XHQ8aDI+Q3VzdG9tIEJhZGdlczwvaDI+XG5cblx0XHQ8cD5DcmVhdGluZyBhIGN1c3RvbSBiYWRnZSBjYW4gYmUgZG9uZSBieSBhZGRpbmcgYSBuZXcgb2JqZWN0IGluIHRoZSBjdXN0b20gYmFkZ2VzIG1lbnUgYXQgdGhlIHRvcCBsZXZlbCwgdGhlbiBkZWZpbmluZyBhIGZldyByZXF1aXJlZCBrZXlzLjwvcD5cblxuXHRcdDxoNT5SZXF1aXJlZCBrZXlzOjwvaDU+XG5cblx0XHQ8bGk+aWQgLSBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgYmFkZ2UuPC9saT5cblxuXHRcdDxsaT50aXRsZSAtIFRoZSBuYW1lIG9mIHRoaXMgYmFkZ2UgdGhhdCBhcHBlYXJzIGluIHRoZSB0b29sdGlwLjwvbGk+XG5cblx0XHQ8bGk+Y29sb3IgLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgYmFkZ2UuPC9saT5cblxuXHRcdDxsaT5zbG90IC0gVGhlIHNsb3QgdGhpcyBiYWRnZSBnb2VzIGluLiBVc2VkIHRvIGRldGVybWluZSB0aGUgb3JkZXIgb2YgdGhlIGJhZGdlcy4gSWYgbXVsdGlwbGUgYmFkZ2VzIHNoYXJlIHRoZSBzYW1lIHNsb3QsIG9ubHkgb25lIHdpbGwgZGlzcGxheSBpbiBjaGF0LCBidXQgdGhleSB3aWxsIGFsbCBzaG93IGluIHRoZSB0b29sdGlwLiBNdXN0IGJlIGEgbnVtYmVyLjwvbGk+XG5cblx0XHQ8bGk+aW1hZ2UgLSBMaW5rIHRvIHRoZSBiYWRnZSBpbWFnZS4gUE5HIG9yIFNWRyByZWNvbW1lbmRlZC48L2xpPlxuXG5cdFx0PGg1Pk9wdGlvbmFsIEtleXM6PC9oNT5cblxuXHRcdDxsaT5ub19pbnZlcnQgLSBJZiB0cnVlLCB0ZWxscyBGRlogdG8gbm90IGludmVydCB0aGUgY29sb3JzIGlmIHVzaW5nIHRyYW5zcGFyZW50IGJhZGdlcyBvbiBhIGxpZ2h0IHRoZW1lLjwvbGk+XG5cblx0XHQ8bGk+dXNlcnMgLSBBbiBhcnJheSBvZiB1c2VybmFtZXMgdG8gYXNzaWduIHRoaXMgYmFkZ2UgdG8uPC9saT5cblxuXHRcdDxsaT5jbGlja191cmwgLSBMaW5rIHRoaXMgYmFkZ2Ugb3BlbnMgd2hlbiBjbGlja2VkLjwvbGk+XG5cblx0XHQ8bGk+cmVwbGFjZXMgLSBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgdGhpcyBiYWRnZSByZXBsYWNlcyBhbm90aGVyIGJhZGdlLjwvbGk+XG5cblx0XHQ8bGk+cmVwbGFjZXNfdHlwZSAtIGlmIHJlcGxhY2VzIGlzIHRydWUsIHRoaXMgaXMgdGhlIGJhZGdlIHR5cGUgdGhpcyBiYWRnZSByZXBsYWNlcy48L2xpPlxuXG5cdFx0PGgyPlVzZXIgc3BlY2lmaWMgYmFkZ2VzOjwvaDI+XG5cblx0XHQ8cD5Vc2VyIHNwZWNpZmljIGJhZGdlcyBjYW4gYmUgZGVmaW5lZCBhcyBhbiBhcnJheSBvZiBvYmplY3RzIGNvbnRhaW5pbmcgdGhlIGJhZGdlcyB0byBhcHBseSB0byBhIHNwZWNpZmljIHVzZXIuIFNlZSB0aGUgZGVmYXVsdHMgaW4gVXNlciBTcGVjaWZpYyBiYWRnZXMgZm9yIGFuIGV4YW1wbGUgb2YgaG93IHRoZSBkYXRhIHNob3VsZCBiZSBzdHJ1Y3R1cmVkLiBUaGVyZSBhcmUgMiByZXF1aXJlZCBrZXlzIGZvciBlYWNoIHVzZXIgc3BlY2lmaWMgYmFkZ2UuPC9wPlxuXG5cdFx0PGxpPmlkIC0gVGhlIHVuaXF1ZSBpZCBmb3IgdGhpcyBiYWRnZS48L2xpPlxuXG5cdFx0PGxpPmRhdGEgLSBBbiBvYmplY3QgZGVzY3JpYmluZyB0aGUgZGF0YSBmb3IgdGhpcyBiYWRnZS4gSWYgdGhpcyBpcyBleGNsdWRlZCwgdGhpcyB3aWxsIGluc3RlYWQgYWRkIHRoZSBjdXN0b20gYmFkZ2Ugd2l0aCB0aGUgaWQgc2V0IGluIHRoZSBpZCBmaWVsZCB0byB0aGlzIHVzZXIuPC9saT5cblx0PC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuXG5leHBvcnQgZGVmYXVsdCB7XG59XG48XC9zY3JpcHQ+XG48c3R5bGUgc2NvcGVkPlxuKiB7XG5cdG1hcmdpbi1ib3R0b206IDVweDtcbn1cbjwvc3R5bGU+XG4nXSxzb3VyY2VSb290OiIifV0pfSxmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiByfSksbi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuJGNyZWF0ZUVsZW1lbnQ7dGhpcy5fc2VsZi5fYztyZXR1cm4gdGhpcy5fbSgwKX0saT1bZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS4kY3JlYXRlRWxlbWVudCxuPWUuX3NlbGYuX2N8fHQ7cmV0dXJuIG4oImRpdiIsW24oImgxIixbZS5fdigiVXNlckJhZGdlcyBEb2N1bWVudGF0aW9uIildKSxlLl92KCIgIiksbigiaDIiLFtlLl92KCJVc2luZyB0aGUgZWRpdG9yIildKSxlLl92KCIgIiksbigicCIsW2UuX3YoIlRoaXMgYWRkb24gdXNlcyBhIEpTT04gZWRpdG9yIHRvIGFsbG93IGZvciBhIGxvdCBvZiBmcmVlZG9tIGZvciBjb25maWd1cmF0aW9uLiBNb3N0IHRoaW5ncyBzaG91bGQgYmUgcHJldHR5IG11Y2ggc2VsZi1leHBsYW5hdG9yeSwgaG93ZXZlciB0aGVyZSBhcmUgc29tZSB0aGluZ3MgdGhhdCBhcmUgbm90IGV4YWN0bHkgY2xlYXIuIEFsc28sIHRoZSBkZWZhdWx0IHNldHRpbmdzIGNvbnRhaW4gZXhhbXBsZXMgb2YgaG93IHRvIGNvbmZpZ3VyZSB0aGlzIGFkZG9uLiBQbGVhc2Uga2VlcCBpbiBtaW5kIHRoaXMgYWRkb24gaXMgc2V0IHVwIGZvciBtb3JlIGFkdmFuY2VkIHVzZXJzLiIpXSksZS5fdigiICIpLG4oInAiLFtlLl92KCdBcnJheXMgY2FuIGJlIGNyZWF0ZWQgYnkgY3JlYXRpbmcgYW4gbmV3IGtleSwgYW5kIHNldHRpbmcgdGhlIHZhbHVlIHRvICJbXSIuIFRoZXkgYXJlIG91dGxpbmVkIGluIGJyb3duLicpXSksZS5fdigiICIpLG4oInAiLFtlLl92KCdMaWtld2lzZSBvYmplY3RzIGFyZSBvdXRsaW5lZCBpbiBwdXJwbGUsIGFuZCBhcmUgY3JlYXRlZCBieSBzZXR0aW5nIHRoZSB2YWx1ZSB0byAie30iLicpXSksZS5fdigiICIpLG4oInAiLFtlLl92KCJDcmVhdGluZyBhIG5ldyBrZXkgY2FuIGJlIGRvbmUgYnkgY2xpY2tpbmcgdGhlIGdyZWVuIGJ1dHRvbi4iKV0pLGUuX3YoIiAiKSxuKCJwIixbZS5fdigiRGVsZXRpbmcgYSBrZXkgY2FuIGJlIGRvbmUgYnkgY2xpY2tpbmcgdGhlIHJlZCBidXR0b24gbmV4dCB0byBhIGtleS4iKV0pLGUuX3YoIiAiKSxuKCJoMiIsW2UuX3YoIkN1c3RvbSBCYWRnZXMiKV0pLGUuX3YoIiAiKSxuKCJwIixbZS5fdigiQ3JlYXRpbmcgYSBjdXN0b20gYmFkZ2UgY2FuIGJlIGRvbmUgYnkgYWRkaW5nIGEgbmV3IG9iamVjdCBpbiB0aGUgY3VzdG9tIGJhZGdlcyBtZW51IGF0IHRoZSB0b3AgbGV2ZWwsIHRoZW4gZGVmaW5pbmcgYSBmZXcgcmVxdWlyZWQga2V5cy4iKV0pLGUuX3YoIiAiKSxuKCJoNSIsW2UuX3YoIlJlcXVpcmVkIGtleXM6IildKSxlLl92KCIgIiksbigibGkiLFtlLl92KCJpZCAtIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBiYWRnZS4iKV0pLGUuX3YoIiAiKSxuKCJsaSIsW2UuX3YoInRpdGxlIC0gVGhlIG5hbWUgb2YgdGhpcyBiYWRnZSB0aGF0IGFwcGVhcnMgaW4gdGhlIHRvb2x0aXAuIildKSxlLl92KCIgIiksbigibGkiLFtlLl92KCJjb2xvciAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSBiYWRnZS4iKV0pLGUuX3YoIiAiKSxuKCJsaSIsW2UuX3YoInNsb3QgLSBUaGUgc2xvdCB0aGlzIGJhZGdlIGdvZXMgaW4uIFVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBvcmRlciBvZiB0aGUgYmFkZ2VzLiBJZiBtdWx0aXBsZSBiYWRnZXMgc2hhcmUgdGhlIHNhbWUgc2xvdCwgb25seSBvbmUgd2lsbCBkaXNwbGF5IGluIGNoYXQsIGJ1dCB0aGV5IHdpbGwgYWxsIHNob3cgaW4gdGhlIHRvb2x0aXAuIE11c3QgYmUgYSBudW1iZXIuIildKSxlLl92KCIgIiksbigibGkiLFtlLl92KCJpbWFnZSAtIExpbmsgdG8gdGhlIGJhZGdlIGltYWdlLiBQTkcgb3IgU1ZHIHJlY29tbWVuZGVkLiIpXSksZS5fdigiICIpLG4oImg1IixbZS5fdigiT3B0aW9uYWwgS2V5czoiKV0pLGUuX3YoIiAiKSxuKCJsaSIsW2UuX3YoIm5vX2ludmVydCAtIElmIHRydWUsIHRlbGxzIEZGWiB0byBub3QgaW52ZXJ0IHRoZSBjb2xvcnMgaWYgdXNpbmcgdHJhbnNwYXJlbnQgYmFkZ2VzIG9uIGEgbGlnaHQgdGhlbWUuIildKSxlLl92KCIgIiksbigibGkiLFtlLl92KCJ1c2VycyAtIEFuIGFycmF5IG9mIHVzZXJuYW1lcyB0byBhc3NpZ24gdGhpcyBiYWRnZSB0by4iKV0pLGUuX3YoIiAiKSxuKCJsaSIsW2UuX3YoImNsaWNrX3VybCAtIExpbmsgdGhpcyBiYWRnZSBvcGVucyB3aGVuIGNsaWNrZWQuIildKSxlLl92KCIgIiksbigibGkiLFtlLl92KCJyZXBsYWNlcyAtIEEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyB0aGlzIGJhZGdlIHJlcGxhY2VzIGFub3RoZXIgYmFkZ2UuIildKSxlLl92KCIgIiksbigibGkiLFtlLl92KCJyZXBsYWNlc190eXBlIC0gaWYgcmVwbGFjZXMgaXMgdHJ1ZSwgdGhpcyBpcyB0aGUgYmFkZ2UgdHlwZSB0aGlzIGJhZGdlIHJlcGxhY2VzLiIpXSksZS5fdigiICIpLG4oImgyIixbZS5fdigiVXNlciBzcGVjaWZpYyBiYWRnZXM6IildKSxlLl92KCIgIiksbigicCIsW2UuX3YoIlVzZXIgc3BlY2lmaWMgYmFkZ2VzIGNhbiBiZSBkZWZpbmVkIGFzIGFuIGFycmF5IG9mIG9iamVjdHMgY29udGFpbmluZyB0aGUgYmFkZ2VzIHRvIGFwcGx5IHRvIGEgc3BlY2lmaWMgdXNlci4gU2VlIHRoZSBkZWZhdWx0cyBpbiBVc2VyIFNwZWNpZmljIGJhZGdlcyBmb3IgYW4gZXhhbXBsZSBvZiBob3cgdGhlIGRhdGEgc2hvdWxkIGJlIHN0cnVjdHVyZWQuIFRoZXJlIGFyZSAyIHJlcXVpcmVkIGtleXMgZm9yIGVhY2ggdXNlciBzcGVjaWZpYyBiYWRnZS4iKV0pLGUuX3YoIiAiKSxuKCJsaSIsW2UuX3YoImlkIC0gVGhlIHVuaXF1ZSBpZCBmb3IgdGhpcyBiYWRnZS4iKV0pLGUuX3YoIiAiKSxuKCJsaSIsW2UuX3YoImRhdGEgLSBBbiBvYmplY3QgZGVzY3JpYmluZyB0aGUgZGF0YSBmb3IgdGhpcyBiYWRnZS4gSWYgdGhpcyBpcyBleGNsdWRlZCwgdGhpcyB3aWxsIGluc3RlYWQgYWRkIHRoZSBjdXN0b20gYmFkZ2Ugd2l0aCB0aGUgaWQgc2V0IGluIHRoZSBpZCBmaWVsZCB0byB0aGlzIHVzZXIuIildKV0pfV07ci5fd2l0aFN0cmlwcGVkPSEwfV0pOwovLyMgc291cmNlTWFwcGluZ1VSTD11c2VyYmFkZ2VzLmpzLm1hcA=='
        document.head.appendChild(script)
    } else {
        attempts = (attempts || 0) + 1;
        if (attempts < 60)
            return setTimeout(loadBadgeManager.bind(this, attempts), 1000);
        console.log('[FFZ Userbadges] Could not find FFZ. Injection unsuccessful.');
    }
}

loadBadgeManager();


